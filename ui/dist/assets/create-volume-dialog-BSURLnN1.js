import{e as H,r as c,ak as A,ai as W,v as $,j as e,d as D,al as J,P as w,M as S,am as X,w as P,a8 as Y,at as Z,c as C,f as ee,B as k,a0 as re}from"./index-DjWaHfFL.js";import{u as oe,s as ae,z as g,F as se,b as V,c as R,d as b,e as j,f as I,A as te,a as ie}from"./form-ZUtrbLJC.js";import{f as ne,h as le,D as ce,b as de,c as ue,d as pe,e as me,g as fe,i as ve}from"./index-DMtN3C__.js";import{b as F}from"./input-8BMw7f6t.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],he=H("circle",xe);var E="Radio",[ye,_]=D(E),[ge,je]=ye(E),G=c.forwardRef((s,r)=>{const{__scopeRadio:t,name:n,checked:o=!1,required:a,disabled:i,value:d="on",onCheck:u,form:f,...v}=s,[m,x]=c.useState(null),l=S(r,y=>x(y)),p=c.useRef(!1),h=m?f||!!m.closest("form"):!0;return e.jsxs(ge,{scope:t,checked:o,disabled:i,children:[e.jsx(w.button,{type:"button",role:"radio","aria-checked":o,"data-state":M(o),"data-disabled":i?"":void 0,disabled:i,value:d,...v,ref:l,onClick:P(s.onClick,y=>{o||u==null||u(),h&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})}),h&&e.jsx(q,{control:m,bubbles:!p.current,name:n,value:d,checked:o,required:a,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});G.displayName=E;var O="RadioIndicator",T=c.forwardRef((s,r)=>{const{__scopeRadio:t,forceMount:n,...o}=s,a=je(O,t);return e.jsx(Y,{present:n||a.checked,children:e.jsx(w.span,{"data-state":M(a.checked),"data-disabled":a.disabled?"":void 0,...o,ref:r})})});T.displayName=O;var Re="RadioBubbleInput",q=c.forwardRef(({__scopeRadio:s,control:r,checked:t,bubbles:n=!0,...o},a)=>{const i=c.useRef(null),d=S(i,a),u=ne(t),f=Z(r);return c.useEffect(()=>{const v=i.current;if(!v)return;const m=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==t&&l){const p=new Event("click",{bubbles:n});l.call(v,t),v.dispatchEvent(p)}},[u,t,n]),e.jsx(w.input,{type:"radio","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:d,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q.displayName=Re;function M(s){return s?"checked":"unchecked"}var be=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],N="RadioGroup",[Ce,Be]=D(N,[A,_]),K=A(),L=_(),[we,Ne]=Ce(N),B=c.forwardRef((s,r)=>{const{__scopeRadioGroup:t,name:n,defaultValue:o,value:a,required:i=!1,disabled:d=!1,orientation:u,dir:f,loop:v=!0,onValueChange:m,...x}=s,l=K(t),p=W(f),[h,y]=$({prop:a,defaultProp:o??null,onChange:m,caller:N});return e.jsx(we,{scope:t,name:n,required:i,disabled:d,value:h,onValueChange:y,children:e.jsx(J,{asChild:!0,...l,orientation:u,dir:p,loop:v,children:e.jsx(w.div,{role:"radiogroup","aria-required":i,"aria-orientation":u,"data-disabled":d?"":void 0,dir:p,...x,ref:r})})})});B.displayName=N;var z="RadioGroupItem",Q=c.forwardRef((s,r)=>{const{__scopeRadioGroup:t,disabled:n,...o}=s,a=Ne(z,t),i=a.disabled||n,d=K(t),u=L(t),f=c.useRef(null),v=S(r,f),m=a.value===o.value,x=c.useRef(!1);return c.useEffect(()=>{const l=h=>{be.includes(h.key)&&(x.current=!0)},p=()=>x.current=!1;return document.addEventListener("keydown",l),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",l),document.removeEventListener("keyup",p)}},[]),e.jsx(X,{asChild:!0,...d,focusable:!i,active:m,children:e.jsx(G,{disabled:i,required:a.required,checked:m,...u,...o,name:a.name,ref:v,onCheck:()=>a.onValueChange(o.value),onKeyDown:P(l=>{l.key==="Enter"&&l.preventDefault()}),onFocus:P(o.onFocus,()=>{var l;x.current&&((l=f.current)==null||l.click())})})})});Q.displayName=z;var Ve="RadioGroupIndicator",U=c.forwardRef((s,r)=>{const{__scopeRadioGroup:t,...n}=s,o=L(t);return e.jsx(T,{...o,...n,ref:r})});U.displayName=Ve;var Ie=B,Pe=Q,Se=U;function Ee({className:s,...r}){return e.jsx(Ie,{"data-slot":"radio-group",className:C("grid gap-3",s),...r})}function ke({className:s,...r}){return e.jsx(Pe,{"data-slot":"radio-group-item",className:C("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:e.jsx(Se,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(he,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}const Fe={s3:"s3"},Ae={s3Tables:"s3Tables"},De={memory:"memory"},_e={file:"file"},Ge=g.object({name:g.string().min(1,"Volume name is required"),type:g.enum([_e.file,De.memory,Fe.s3,Ae.s3Tables]),path:g.string().optional()}).superRefine((s,r)=>{s.type==="file"&&(!s.path||s.path.trim()==="")&&r.addIssue({code:g.ZodIssueCode.custom,message:"Path is required for File Volume",path:["path"]})}),Oe=({id:s,value:r,title:t,description:n,selectedValue:o,radioControl:a,disabled:i})=>e.jsx(R,{className:C("rounded-md border transition-colors",o===r&&!i&&"border-primary",i&&"cursor-not-allowed opacity-50"),children:e.jsxs(b,{htmlFor:s,className:C("flex flex-row items-start space-x-2 p-3",i?"cursor-not-allowed":"cursor-pointer"),children:[a,e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"font-semibold",children:t}),e.jsx("p",{className:"text-muted-foreground text-xs font-light",children:n})]})]})}),Te=({onSubmit:s})=>{const r=oe({resolver:ae(Ge),defaultValues:{name:"",type:"file",path:""}}),t=r.watch("type");c.useEffect(()=>{t!=="file"&&r.clearErrors("path")},[t,r]);const n=[{id:"memoryVolume",value:"memory",title:"Memory Volume",description:"In-memory storage for fast access."},{id:"fileVolume",value:"file",title:"File Volume",description:"Persistent storage using local disk file."},{id:"s3Volume",value:"s3",title:"S3 Volume",description:"Cloud-based storage with AWS S3.",disabled:!0}];return e.jsx(se,{...r,children:e.jsxs("form",{id:"createVolumeDialogForm",onSubmit:r.handleSubmit(s),className:"flex flex-col gap-4",children:[e.jsx(V,{control:r.control,name:"name",render:({field:o})=>e.jsxs(R,{children:[e.jsx(b,{children:"Volume Name"}),e.jsx(j,{children:e.jsx(F,{...o,type:"name",required:!0})}),e.jsx(I,{})]})}),e.jsx(V,{control:r.control,name:"type",render:({field:o})=>e.jsxs(R,{children:[e.jsx(b,{children:"Specify volume type"}),e.jsx(j,{children:e.jsx(Ee,{onValueChange:o.onChange,defaultValue:o.value,className:"grid grid-cols-3 gap-2",children:n.map(a=>e.jsx(Oe,{id:a.id,value:a.value,title:a.title,description:a.description,selectedValue:o.value,disabled:a.disabled,radioControl:e.jsx(j,{children:e.jsx(ke,{value:a.value,id:a.id,disabled:a.disabled})})},a.id))})}),e.jsx(I,{})]})}),t==="file"&&e.jsx(V,{control:r.control,name:"path",render:({field:o})=>e.jsxs(R,{children:[e.jsx(b,{children:"Path"}),e.jsx(j,{children:e.jsx(F,{...o,required:!0})}),e.jsx(I,{})]})})]})})};function ze({opened:s,onSetOpened:r}){var i;const t=ee(),{mutate:n,isPending:o,error:a}=le({mutation:{onSuccess:async()=>{await Promise.all([t.invalidateQueries({queryKey:fe()}),t.invalidateQueries({queryKey:ve()})]),r(!1),re.success("Volume was successfully created")}}});return e.jsx(ce,{open:s,onOpenChange:r,children:e.jsxs(de,{className:"min-w-[596px]",children:[e.jsx(ue,{children:e.jsx(pe,{children:"Create Volume"})}),a&&e.jsx(te,{variant:"destructive",children:e.jsx(ie,{children:JSON.stringify((i=a.response)==null?void 0:i.data.message)})}),e.jsx(Te,{onSubmit:d=>{n({data:d})}}),e.jsxs(me,{children:[e.jsx(k,{disabled:o,variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(k,{disabled:o,form:"createVolumeDialogForm",type:"submit",children:"Create"})]})]})})}export{ze as C};
