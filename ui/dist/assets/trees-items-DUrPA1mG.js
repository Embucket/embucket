import{e as Ee,r as u,ao as $t,j as p,c as ne,v as Ht,d as _t,aj as Tt,P as Fe,w as Gt,a8 as Ft,M as Bt,ap as Vt,z as st,aq as Ot,H as Wt,B as qt,y as Kt,D as Me,a1 as Ut,ar as lt,as as Te}from"./index-DjWaHfFL.js";import{b as Xt,S as Jt,a as Zt,E as Ye}from"./data-table-CGEkQJDF.js";import{a as Yt,C as Qt,F as en,T as tn}from"./create-database-dialog-DUYnPK5O.js";import{u as nn}from"./index-DMtN3C__.js";import{C as rn}from"./create-volume-dialog-BSURLnN1.js";import{I as on,a as an,b as sn}from"./input-8BMw7f6t.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],cn=Ee("chevron-right",ln);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],dn=Ee("folder",un);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],pn=Ee("grip-vertical",fn);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gn=Ee("refresh-cw",mn),Re=u.createContext(null);Re.displayName="PanelGroupContext";const M={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Be=10,re=u.useLayoutEffect,Qe=$t.useId,hn=typeof Qe=="function"?Qe:()=>null;let xn=0;function Ve(e=null){const t=hn(),n=u.useRef(e||t||null);return n.current===null&&(n.current=""+xn++),e??n.current}function ct({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:i,maxSize:s,minSize:l,onCollapse:m,onExpand:y,onResize:d,order:c,style:h,tagName:x="div",...I}){const E=u.useContext(Re);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:z,expandPanel:R,getPanelSize:k,getPanelStyle:$,groupId:K,isPanelCollapsed:L,reevaluatePanelConstraints:w,registerPanel:O,resizePanel:J,unregisterPanel:B}=E,T=Ve(i),j=u.useRef({callbacks:{onCollapse:m,onExpand:y,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:s,minSize:l},id:T,idIsFromProps:i!==void 0,order:c});u.useRef({didLogMissingDefaultSizeWarning:!1}),re(()=>{const{callbacks:_,constraints:H}=j.current,G={...H};j.current.id=T,j.current.idIsFromProps=i!==void 0,j.current.order=c,_.onCollapse=m,_.onExpand=y,_.onResize=d,H.collapsedSize=n,H.collapsible=r,H.defaultSize=a,H.maxSize=s,H.minSize=l,(G.collapsedSize!==H.collapsedSize||G.collapsible!==H.collapsible||G.maxSize!==H.maxSize||G.minSize!==H.minSize)&&w(j.current,G)}),re(()=>{const _=j.current;return O(_),()=>{B(_)}},[c,T,O,B]),u.useImperativeHandle(o,()=>({collapse:()=>{z(j.current)},expand:_=>{R(j.current,_)},getId(){return T},getSize(){return k(j.current)},isCollapsed(){return L(j.current)},isExpanded(){return!L(j.current)},resize:_=>{J(j.current,_)}}),[z,R,k,L,T,J]);const ee=$(j.current,a);return u.createElement(x,{...I,children:e,className:t,id:T,style:{...ee,...h},[M.groupId]:K,[M.panel]:"",[M.panelCollapsible]:r||void 0,[M.panelId]:T,[M.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const ut=u.forwardRef((e,t)=>u.createElement(ct,{...e,forwardedRef:t}));ct.displayName="Panel";ut.displayName="forwardRef(Panel)";let Ge=null,Ce=-1,Y=null;function yn(e,t){if(t){const n=(t&gt)!==0,r=(t&ht)!==0,a=(t&xt)!==0,o=(t&yt)!==0;if(n)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function bn(){Y!==null&&(document.head.removeChild(Y),Ge=null,Y=null,Ce=-1)}function je(e,t){var n,r;const a=yn(e,t);if(Ge!==a){if(Ge=a,Y===null&&(Y=document.createElement("style"),document.head.appendChild(Y)),Ce>=0){var o;(o=Y.sheet)===null||o===void 0||o.removeRule(Ce)}Ce=(n=(r=Y.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&n!==void 0?n:-1}}function dt(e){return e.type==="keydown"}function ft(e){return e.type.startsWith("pointer")}function pt(e){return e.type.startsWith("mouse")}function Ie(e){if(ft(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(pt(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function vn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function zn(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Sn(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:nt(e),b:nt(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;C(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:tt(et(n.a)),b:tt(et(n.b))};if(a.a===a.b){const o=r.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let s=o.length;for(;s--;){const l=o[s];if(l===i.a)return 1;if(l===i.b)return-1}}return Math.sign(a.a-a.b)}const Cn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Pn(e){var t;const n=getComputedStyle((t=mt(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function wn(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Pn(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Cn.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function et(e){let t=e.length;for(;t--;){const n=e[t];if(C(n,"Missing node"),wn(n))return n}return null}function tt(e){return e&&Number(getComputedStyle(e).zIndex)||0}function nt(e){const t=[];for(;e;)t.push(e),e=mt(e);return t}function mt(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const gt=1,ht=2,xt=4,yt=8,En=vn()==="coarse";let q=[],ce=!1,Q=new Map,Ne=new Map;const ye=new Set;function Rn(e,t,n,r,a){var o;const{ownerDocument:i}=t,s={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},l=(o=Q.get(i))!==null&&o!==void 0?o:0;return Q.set(i,l+1),ye.add(s),Pe(),function(){var y;Ne.delete(e),ye.delete(s);const d=(y=Q.get(i))!==null&&y!==void 0?y:1;if(Q.set(i,d-1),Pe(),d===1&&Q.delete(i),q.includes(s)){const c=q.indexOf(s);c>=0&&q.splice(c,1),We(),a("up",!0,null)}}}function In(e){const{target:t}=e,{x:n,y:r}=Ie(e);ce=!0,Oe({target:t,x:n,y:r}),Pe(),q.length>0&&(we("down",e),e.preventDefault(),bt(t)||e.stopImmediatePropagation())}function De(e){const{x:t,y:n}=Ie(e);if(ce&&e.buttons===0&&(ce=!1,we("up",e)),!ce){const{target:r}=e;Oe({target:r,x:t,y:n})}we("move",e),We(),q.length>0&&e.preventDefault()}function $e(e){const{target:t}=e,{x:n,y:r}=Ie(e);Ne.clear(),ce=!1,q.length>0&&(e.preventDefault(),bt(t)||e.stopImmediatePropagation()),we("up",e),Oe({target:t,x:n,y:r}),We(),Pe()}function bt(e){let t=e;for(;t;){if(t.hasAttribute(M.resizeHandle))return!0;t=t.parentElement}return!1}function Oe({target:e,x:t,y:n}){q.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ye.forEach(a=>{const{element:o,hitAreaMargins:i}=a,s=o.getBoundingClientRect(),{bottom:l,left:m,right:y,top:d}=s,c=En?i.coarse:i.fine;if(t>=m-c&&t<=y+c&&n>=d-c&&n<=l+c){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Sn(r,o)>0){let x=r,I=!1;for(;x&&!x.contains(o);){if(zn(x.getBoundingClientRect(),s)){I=!0;break}x=x.parentElement}if(I)return}q.push(a)}})}function He(e,t){Ne.set(e,t)}function We(){let e=!1,t=!1;q.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;Ne.forEach(r=>{n|=r}),e&&t?je("intersection",n):e?je("horizontal",n):t?je("vertical",n):bn()}let _e=new AbortController;function Pe(){_e.abort(),_e=new AbortController;const e={capture:!0,signal:_e.signal};ye.size&&(ce?(q.length>0&&Q.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("contextmenu",$e,e),r.addEventListener("pointerleave",De,e),r.addEventListener("pointermove",De,e))}),Q.forEach((t,n)=>{const{body:r}=n;r.addEventListener("pointerup",$e,e),r.addEventListener("pointercancel",$e,e)})):Q.forEach((t,n)=>{const{body:r}=n;t>0&&(r.addEventListener("pointerdown",In,e),r.addEventListener("pointermove",De,e))}))}function we(e,t){ye.forEach(n=>{const{setResizeHandlerState:r}=n,a=q.includes(n);r(e,a,t)})}function Nn(){const[e,t]=u.useState(0);return u.useCallback(()=>t(n=>n+1),[])}function C(e,t){if(!e)throw console.error(t),Error(t)}function oe(e,t,n=Be){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Z(e,t,n=Be){return oe(e,t,n)===0}function V(e,t,n){return oe(e,t,n)===0}function Ln(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!V(a,o,n))return!1}return!0}function le({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];C(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:i=100,minSize:s=0}=r;if(oe(n,s)<0)if(o){const l=(a+s)/2;oe(n,l)<0?n=a:n=s}else n=s;return n=Math.min(i,n),n=parseFloat(n.toFixed(Be)),n}function he({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(V(e,0))return t;const i=[...t],[s,l]=r;C(s!=null,"Invalid first pivot index"),C(l!=null,"Invalid second pivot index");let m=0;if(o==="keyboard"){{const d=e<0?l:s,c=n[d];C(c,`Panel constraints not found for index ${d}`);const{collapsedSize:h=0,collapsible:x,minSize:I=0}=c;if(x){const E=t[d];if(C(E!=null,`Previous layout not found for panel index ${d}`),V(E,h)){const z=I-E;oe(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}{const d=e<0?s:l,c=n[d];C(c,`No panel constraints found for index ${d}`);const{collapsedSize:h=0,collapsible:x,minSize:I=0}=c;if(x){const E=t[d];if(C(E!=null,`Previous layout not found for panel index ${d}`),V(E,I)){const z=E-h;oe(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}}{const d=e<0?1:-1;let c=e<0?l:s,h=0;for(;;){const I=t[c];C(I!=null,`Previous layout not found for panel index ${c}`);const z=le({panelConstraints:n,panelIndex:c,size:100})-I;if(h+=z,c+=d,c<0||c>=n.length)break}const x=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-x:x}{let c=e<0?s:l;for(;c>=0&&c<n.length;){const h=Math.abs(e)-Math.abs(m),x=t[c];C(x!=null,`Previous layout not found for panel index ${c}`);const I=x-h,E=le({panelConstraints:n,panelIndex:c,size:I});if(!V(x,E)&&(m+=x-E,i[c]=E,m.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?c--:c++}}if(Ln(a,i))return a;{const d=e<0?l:s,c=t[d];C(c!=null,`Previous layout not found for panel index ${d}`);const h=c+m,x=le({panelConstraints:n,panelIndex:d,size:h});if(i[d]=x,!V(x,h)){let I=h-x,z=e<0?l:s;for(;z>=0&&z<n.length;){const R=i[z];C(R!=null,`Previous layout not found for panel index ${z}`);const k=R+I,$=le({panelConstraints:n,panelIndex:z,size:k});if(V(R,$)||(I-=$-R,i[z]=$),V(I,0))break;e>0?z--:z++}}}const y=i.reduce((d,c)=>c+d,0);return V(y,100)?i:a}function kn({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,i=0;const s=n[0];C(s!=null,"No pivot index found"),t.forEach((d,c)=>{const{constraints:h}=d,{maxSize:x=100,minSize:I=0}=h;c===s?(r=I,a=x):(o+=I,i+=x)});const l=Math.min(a,100-o),m=Math.max(r,100-i),y=e[s];return{valueMax:l,valueMin:m,valueNow:y}}function be(e,t=document){return Array.from(t.querySelectorAll(`[${M.resizeHandleId}][data-panel-group-id="${e}"]`))}function vt(e,t,n=document){const a=be(e,n).findIndex(o=>o.getAttribute(M.resizeHandleId)===t);return a??null}function zt(e,t,n){const r=vt(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function An(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function St(e,t=document){if(An(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function Le(e,t=document){const n=t.querySelector(`[${M.resizeHandleId}="${e}"]`);return n||null}function Mn(e,t,n,r=document){var a,o,i,s;const l=Le(t,r),m=be(e,r),y=l?m.indexOf(l):-1,d=(a=(o=n[y])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,c=(i=(s=n[y+1])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null;return[d,c]}function jn({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:i}){u.useRef({didWarnAboutMissingResizeHandle:!1}),re(()=>{if(!o)return;const s=be(n,o);for(let l=0;l<a.length-1;l++){const{valueMax:m,valueMin:y,valueNow:d}=kn({layout:r,panelsArray:a,pivotIndices:[l,l+1]}),c=s[l];if(c!=null){const h=a[l];C(h,`No panel data found for index "${l}"`),c.setAttribute("aria-controls",h.id),c.setAttribute("aria-valuemax",""+Math.round(m)),c.setAttribute("aria-valuemin",""+Math.round(y)),c.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{s.forEach((l,m)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,a,o]),u.useEffect(()=>{if(!o)return;const s=t.current;C(s,"Eager values not found");const{panelDataArray:l}=s,m=St(n,o);C(m!=null,`No group found for id "${n}"`);const y=be(n,o);C(y,`No resize handles found for group id "${n}"`);const d=y.map(c=>{const h=c.getAttribute(M.resizeHandleId);C(h,"Resize handle element has no handle id attribute");const[x,I]=Mn(n,h,l,o);if(x==null||I==null)return()=>{};const E=z=>{if(!z.defaultPrevented)switch(z.key){case"Enter":{z.preventDefault();const R=l.findIndex(k=>k.id===x);if(R>=0){const k=l[R];C(k,`No panel data found for index ${R}`);const $=r[R],{collapsedSize:K=0,collapsible:L,minSize:w=0}=k.constraints;if($!=null&&L){const O=he({delta:V($,K)?w-K:K-$,initialLayout:r,panelConstraints:l.map(J=>J.constraints),pivotIndices:zt(n,h,o),prevLayout:r,trigger:"keyboard"});r!==O&&i(O)}}break}}};return c.addEventListener("keydown",E),()=>{c.removeEventListener("keydown",E)}});return()=>{d.forEach(c=>c())}},[o,e,t,n,r,a,i])}function rt(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ct(e,t){const n=e==="horizontal",{x:r,y:a}=Ie(t);return n?r:a}function Dn(e,t,n,r,a){const o=n==="horizontal",i=Le(t,a);C(i,`No resize handle element found for id "${t}"`);const s=i.getAttribute(M.groupId);C(s,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const m=Ct(n,e),y=St(s,a);C(y,`No group element found for id "${s}"`);const d=y.getBoundingClientRect(),c=o?d.width:d.height;return(m-l)/c*100}function $n(e,t,n,r,a,o){if(dt(e)){const i=n==="horizontal";let s=0;e.shiftKey?s=100:a!=null?s=a:s=10;let l=0;switch(e.key){case"ArrowDown":l=i?0:s;break;case"ArrowLeft":l=i?-s:0;break;case"ArrowRight":l=i?s:0;break;case"ArrowUp":l=i?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Dn(e,t,n,r,o)}function Hn({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const i=n[o];C(i,`Panel constraints not found for index ${o}`);const{defaultSize:s}=i;s!=null&&(r++,t[o]=s,a-=s)}for(let o=0;o<e.length;o++){const i=n[o];C(i,`Panel constraints not found for index ${o}`);const{defaultSize:s}=i;if(s!=null)continue;const l=e.length-r,m=a/l;r++,t[o]=m,a-=m}return t}function ie(e,t,n){t.forEach((r,a)=>{const o=e[a];C(o,`Panel data not found for index ${a}`);const{callbacks:i,constraints:s,id:l}=o,{collapsedSize:m=0,collapsible:y}=s,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:c,onExpand:h,onResize:x}=i;x&&x(r,d),y&&(c||h)&&(h&&(d==null||Z(d,m))&&!Z(r,m)&&h(),c&&(d==null||!Z(d,m))&&Z(r,m)&&c())}})}function Se(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function _n({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const i=n[a];let s;return i==null?s=e!=null?e.toPrecision(o):"1":r.length===1?s="1":s=i.toPrecision(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Tn(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function ot(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Pt(e){return`react-resizable-panels:${e}`}function wt(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Et(e,t){try{const n=Pt(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function Gn(e,t,n){var r,a;const o=(r=Et(e,n))!==null&&r!==void 0?r:{},i=wt(t);return(a=o[i])!==null&&a!==void 0?a:null}function Fn(e,t,n,r,a){var o;const i=Pt(e),s=wt(t),l=(o=Et(e,a))!==null&&o!==void 0?o:{};l[s]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(i,JSON.stringify(l))}catch(m){console.error(m)}}function at({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,i)=>o+i,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!V(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const i=n[o];C(i!=null,`No layout data found for index ${o}`);const s=100/r*i;n[o]=s}let a=0;for(let o=0;o<t.length;o++){const i=n[o];C(i!=null,`No layout data found for index ${o}`);const s=le({panelConstraints:t,panelIndex:o,size:i});i!=s&&(a+=i-s,n[o]=s)}if(!V(a,0))for(let o=0;o<t.length;o++){const i=n[o];C(i!=null,`No layout data found for index ${o}`);const s=i+a,l=le({panelConstraints:t,panelIndex:o,size:s});if(i!==l&&(a-=l-i,n[o]=l,V(a,0)))break}return n}const Bn=100,xe={getItem:e=>(ot(xe),xe.getItem(e)),setItem:(e,t)=>{ot(xe),xe.setItem(e,t)}},it={};function Rt({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:i=null,keyboardResizeBy:s=null,storage:l=xe,style:m,tagName:y="div",...d}){const c=Ve(o),h=u.useRef(null),[x,I]=u.useState(null),[E,z]=u.useState([]),R=Nn(),k=u.useRef({}),$=u.useRef(new Map),K=u.useRef(0),L=u.useRef({autoSaveId:e,direction:r,dragState:x,id:c,keyboardResizeBy:s,onLayout:i,storage:l}),w=u.useRef({layout:E,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(a,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:f}=w.current;return f},setLayout:f=>{const{onLayout:v}=L.current,{layout:P,panelDataArray:b}=w.current,g=at({layout:f,panelConstraints:b.map(S=>S.constraints)});rt(P,g)||(z(g),w.current.layout=g,v&&v(g),ie(b,g,k.current))}}),[]),re(()=>{L.current.autoSaveId=e,L.current.direction=r,L.current.dragState=x,L.current.id=c,L.current.onLayout=i,L.current.storage=l}),jn({committedValuesRef:L,eagerValuesRef:w,groupId:c,layout:E,panelDataArray:w.current.panelDataArray,setLayout:z,panelGroupElement:h.current}),u.useEffect(()=>{const{panelDataArray:f}=w.current;if(e){if(E.length===0||E.length!==f.length)return;let v=it[e];v==null&&(v=Tn(Fn,Bn),it[e]=v);const P=[...f],b=new Map($.current);v(e,P,b,E,l)}},[e,E,l]),u.useEffect(()=>{});const O=u.useCallback(f=>{const{onLayout:v}=L.current,{layout:P,panelDataArray:b}=w.current;if(f.constraints.collapsible){const g=b.map(U=>U.constraints),{collapsedSize:S=0,panelSize:N,pivotIndices:D}=te(b,f,P);if(C(N!=null,`Panel size not found for panel "${f.id}"`),!Z(N,S)){$.current.set(f.id,N);const X=se(b,f)===b.length-1?N-S:S-N,A=he({delta:X,initialLayout:P,panelConstraints:g,pivotIndices:D,prevLayout:P,trigger:"imperative-api"});Se(P,A)||(z(A),w.current.layout=A,v&&v(A),ie(b,A,k.current))}}},[]),J=u.useCallback((f,v)=>{const{onLayout:P}=L.current,{layout:b,panelDataArray:g}=w.current;if(f.constraints.collapsible){const S=g.map(W=>W.constraints),{collapsedSize:N=0,panelSize:D=0,minSize:U=0,pivotIndices:X}=te(g,f,b),A=v??U;if(Z(D,N)){const W=$.current.get(f.id),me=W!=null&&W>=A?W:A,Ae=se(g,f)===g.length-1?D-me:me-D,F=he({delta:Ae,initialLayout:b,panelConstraints:S,pivotIndices:X,prevLayout:b,trigger:"imperative-api"});Se(b,F)||(z(F),w.current.layout=F,P&&P(F),ie(g,F,k.current))}}},[]),B=u.useCallback(f=>{const{layout:v,panelDataArray:P}=w.current,{panelSize:b}=te(P,f,v);return C(b!=null,`Panel size not found for panel "${f.id}"`),b},[]),T=u.useCallback((f,v)=>{const{panelDataArray:P}=w.current,b=se(P,f);return _n({defaultSize:v,dragState:x,layout:E,panelData:P,panelIndex:b})},[x,E]),j=u.useCallback(f=>{const{layout:v,panelDataArray:P}=w.current,{collapsedSize:b=0,collapsible:g,panelSize:S}=te(P,f,v);return C(S!=null,`Panel size not found for panel "${f.id}"`),g===!0&&Z(S,b)},[]),ee=u.useCallback(f=>{const{layout:v,panelDataArray:P}=w.current,{collapsedSize:b=0,collapsible:g,panelSize:S}=te(P,f,v);return C(S!=null,`Panel size not found for panel "${f.id}"`),!g||oe(S,b)>0},[]),_=u.useCallback(f=>{const{panelDataArray:v}=w.current;v.push(f),v.sort((P,b)=>{const g=P.order,S=b.order;return g==null&&S==null?0:g==null?-1:S==null?1:g-S}),w.current.panelDataArrayChanged=!0,R()},[R]);re(()=>{if(w.current.panelDataArrayChanged){w.current.panelDataArrayChanged=!1;const{autoSaveId:f,onLayout:v,storage:P}=L.current,{layout:b,panelDataArray:g}=w.current;let S=null;if(f){const D=Gn(f,g,P);D&&($.current=new Map(Object.entries(D.expandToSizes)),S=D.layout)}S==null&&(S=Hn({panelDataArray:g}));const N=at({layout:S,panelConstraints:g.map(D=>D.constraints)});rt(b,N)||(z(N),w.current.layout=N,v&&v(N),ie(g,N,k.current))}}),re(()=>{const f=w.current;return()=>{f.layout=[]}},[]);const H=u.useCallback(f=>{let v=!1;const P=h.current;return P&&window.getComputedStyle(P,null).getPropertyValue("direction")==="rtl"&&(v=!0),function(g){g.preventDefault();const S=h.current;if(!S)return()=>null;const{direction:N,dragState:D,id:U,keyboardResizeBy:X,onLayout:A}=L.current,{layout:W,panelDataArray:me}=w.current,{initialLayout:ze}=D??{},Ae=zt(U,f,S);let F=$n(g,f,N,D,X,S);const Je=N==="horizontal";Je&&v&&(F=-F);const jt=me.map(Dt=>Dt.constraints),ge=he({delta:F,initialLayout:ze??W,panelConstraints:jt,pivotIndices:Ae,prevLayout:W,trigger:dt(g)?"keyboard":"mouse-or-touch"}),Ze=!Se(W,ge);(ft(g)||pt(g))&&K.current!=F&&(K.current=F,!Ze&&F!==0?Je?He(f,F<0?gt:ht):He(f,F<0?xt:yt):He(f,0)),Ze&&(z(ge),w.current.layout=ge,A&&A(ge),ie(me,ge,k.current))}},[]),G=u.useCallback((f,v)=>{const{onLayout:P}=L.current,{layout:b,panelDataArray:g}=w.current,S=g.map(W=>W.constraints),{panelSize:N,pivotIndices:D}=te(g,f,b);C(N!=null,`Panel size not found for panel "${f.id}"`);const X=se(g,f)===g.length-1?N-v:v-N,A=he({delta:X,initialLayout:b,panelConstraints:S,pivotIndices:D,prevLayout:b,trigger:"imperative-api"});Se(b,A)||(z(A),w.current.layout=A,P&&P(A),ie(g,A,k.current))},[]),ue=u.useCallback((f,v)=>{const{layout:P,panelDataArray:b}=w.current,{collapsedSize:g=0,collapsible:S}=v,{collapsedSize:N=0,collapsible:D,maxSize:U=100,minSize:X=0}=f.constraints,{panelSize:A}=te(b,f,P);A!=null&&(S&&D&&Z(A,g)?Z(g,N)||G(f,N):A<X?G(f,X):A>U&&G(f,U))},[G]),de=u.useCallback((f,v)=>{const{direction:P}=L.current,{layout:b}=w.current;if(!h.current)return;const g=Le(f,h.current);C(g,`Drag handle element not found for id "${f}"`);const S=Ct(P,v);I({dragHandleId:f,dragHandleRect:g.getBoundingClientRect(),initialCursorPosition:S,initialLayout:b})},[]),fe=u.useCallback(()=>{I(null)},[]),ve=u.useCallback(f=>{const{panelDataArray:v}=w.current,P=se(v,f);P>=0&&(v.splice(P,1),delete k.current[f.id],w.current.panelDataArrayChanged=!0,R())},[R]),ae=u.useMemo(()=>({collapsePanel:O,direction:r,dragState:x,expandPanel:J,getPanelSize:B,getPanelStyle:T,groupId:c,isPanelCollapsed:j,isPanelExpanded:ee,reevaluatePanelConstraints:ue,registerPanel:_,registerResizeHandle:H,resizePanel:G,startDragging:de,stopDragging:fe,unregisterPanel:ve,panelGroupElement:h.current}),[O,x,r,J,B,T,c,j,ee,ue,_,H,G,de,fe,ve]),pe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement(Re.Provider,{value:ae},u.createElement(y,{...d,children:t,className:n,id:o,ref:h,style:{...pe,...m},[M.group]:"",[M.groupDirection]:r,[M.groupId]:c}))}const It=u.forwardRef((e,t)=>u.createElement(Rt,{...e,forwardedRef:t}));Rt.displayName="PanelGroup";It.displayName="forwardRef(PanelGroup)";function se(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function te(e,t,n){const r=se(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],i=n[r];return{...t.constraints,panelSize:i,pivotIndices:o}}function Vn({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){u.useEffect(()=>{if(e||n==null||r==null)return;const a=Le(t,r);if(a==null)return;const o=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),n(i);break}case"F6":{i.preventDefault();const s=a.getAttribute(M.groupId);C(s,`No group element found for id "${s}"`);const l=be(s,r),m=vt(s,t,r);C(m!==null,`No resize element found for id "${t}"`);const y=i.shiftKey?m>0?m-1:l.length-1:m+1<l.length?m+1:0;l[y].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function Nt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:i,onDragging:s,onFocus:l,onPointerDown:m,onPointerUp:y,style:d={},tabIndex:c=0,tagName:h="div",...x}){var I,E;const z=u.useRef(null),R=u.useRef({onClick:i,onDragging:s,onPointerDown:m,onPointerUp:y});u.useEffect(()=>{R.current.onClick=i,R.current.onDragging=s,R.current.onPointerDown=m,R.current.onPointerUp=y});const k=u.useContext(Re);if(k===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:$,groupId:K,registerResizeHandle:L,startDragging:w,stopDragging:O,panelGroupElement:J}=k,B=Ve(a),[T,j]=u.useState("inactive"),[ee,_]=u.useState(!1),[H,G]=u.useState(null),ue=u.useRef({state:T});re(()=>{ue.current.state=T}),u.useEffect(()=>{if(n)G(null);else{const ae=L(B);G(()=>ae)}},[n,B,L]);const de=(I=r==null?void 0:r.coarse)!==null&&I!==void 0?I:15,fe=(E=r==null?void 0:r.fine)!==null&&E!==void 0?E:5;u.useEffect(()=>{if(n||H==null)return;const ae=z.current;C(ae,"Element ref not attached");let pe=!1;return Rn(B,ae,$,{coarse:de,fine:fe},(v,P,b)=>{if(!P){j("inactive");return}switch(v){case"down":{j("drag"),pe=!1,C(b,'Expected event to be defined for "down" action'),w(B,b);const{onDragging:g,onPointerDown:S}=R.current;g==null||g(!0),S==null||S();break}case"move":{const{state:g}=ue.current;pe=!0,g!=="drag"&&j("hover"),C(b,'Expected event to be defined for "move" action'),H(b);break}case"up":{j("hover"),O();const{onClick:g,onDragging:S,onPointerUp:N}=R.current;S==null||S(!1),N==null||N(),pe||g==null||g();break}}})},[de,$,n,fe,L,B,H,w,O]),Vn({disabled:n,handleId:B,resizeHandler:H,panelGroupElement:J});const ve={touchAction:"none",userSelect:"none"};return u.createElement(h,{...x,children:e,className:t,id:a,onBlur:()=>{_(!1),o==null||o()},onFocus:()=>{_(!0),l==null||l()},ref:z,role:"separator",style:{...ve,...d},tabIndex:c,[M.groupDirection]:$,[M.groupId]:K,[M.resizeHandle]:"",[M.resizeHandleActive]:T==="drag"?"pointer":ee?"keyboard":void 0,[M.resizeHandleEnabled]:!n,[M.resizeHandleId]:B,[M.resizeHandleState]:T})}Nt.displayName="PanelResizeHandle";function or({className:e,...t}){return p.jsx(It,{autoSaveId:"persistence",storage:localStorage,"data-slot":"resizable-panel-group",className:ne("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function ar({...e}){return p.jsx(ut,{"data-slot":"resizable-panel",...e})}function ir({withHandle:e,className:t,...n}){return p.jsx(Nt,{"data-slot":"resizable-handle",className:ne("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&p.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:p.jsx(pn,{className:"size-2.5"})})})}var ke="Collapsible",[On,sr]=_t(ke),[Wn,qe]=On(ke),Lt=u.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...s}=e,[l,m]=Ht({prop:r,defaultProp:a??!1,onChange:i,caller:ke});return p.jsx(Wn,{scope:n,disabled:o,contentId:Tt(),open:l,onOpenToggle:u.useCallback(()=>m(y=>!y),[m]),children:p.jsx(Fe.div,{"data-state":Ue(l),"data-disabled":o?"":void 0,...s,ref:t})})});Lt.displayName=ke;var kt="CollapsibleTrigger",At=u.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=qe(kt,n);return p.jsx(Fe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Ue(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:Gt(e.onClick,a.onOpenToggle)})});At.displayName=kt;var Ke="CollapsibleContent",Mt=u.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=qe(Ke,e.__scopeCollapsible);return p.jsx(Ft,{present:n||a.open,children:({present:o})=>p.jsx(qn,{...r,ref:t,present:o})})});Mt.displayName=Ke;var qn=u.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,i=qe(Ke,n),[s,l]=u.useState(r),m=u.useRef(null),y=Bt(t,m),d=u.useRef(0),c=d.current,h=u.useRef(0),x=h.current,I=i.open||s,E=u.useRef(I),z=u.useRef(void 0);return u.useEffect(()=>{const R=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(R)},[]),Vt(()=>{const R=m.current;if(R){z.current=z.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const k=R.getBoundingClientRect();d.current=k.height,h.current=k.width,E.current||(R.style.transitionDuration=z.current.transitionDuration,R.style.animationName=z.current.animationName),l(r)}},[i.open,r]),p.jsx(Fe.div,{"data-state":Ue(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!I,...o,ref:y,style:{"--radix-collapsible-content-height":c?`${c}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:I&&a})});function Ue(e){return e?"open":"closed"}var Kn=Lt;function Un({...e}){return p.jsx(Kn,{"data-slot":"collapsible",...e})}function Xn({...e}){return p.jsx(At,{"data-slot":"collapsible-trigger",...e})}function Jn({...e}){return p.jsx(Mt,{"data-slot":"collapsible-content",...e})}function Xe({icon:e,label:t,triggerComponent:n=st,children:r,defaultOpen:a=!0,isActive:o,className:i,open:s,triggerClassName:l,contentClassName:m,onClick:y}){return p.jsxs(Un,{defaultOpen:a,open:s,className:ne("group/collapsible [&[data-state=open]>a>svg:first-child]:rotate-90 [&[data-state=open]>button>svg:first-child]:rotate-90",i),children:[p.jsx(Xn,{asChild:!0,children:p.jsxs(n,{className:ne("hover:bg-sidebar-secondary-accent data-[active=true]:bg-sidebar-secondary-accent!",l),onClick:y,isActive:o,children:[p.jsx(cn,{className:"transition-transform"}),p.jsx(e,{}),p.jsx("span",{className:"truncate",children:t})]})}),p.jsx(Jn,{children:p.jsx(Ot,{className:ne("mr-0 pr-0 pb-0",m),children:r})})]})}const Zn=({isFetchingNavigationTrees:e,onRefetchNavigationTrees:t})=>{const[n,r]=u.useState(!1),a=async()=>{r(!0),await new Promise(o=>setTimeout(o,500)),t(),r(!1)};return p.jsx(Wt,{className:"px-4 pt-4",children:p.jsxs("div",{className:"justify flex items-center justify-between gap-2",children:[p.jsxs(on,{className:"w-full",children:[p.jsx(an,{children:p.jsx(Xt,{})}),p.jsx(sn,{disabled:!0,placeholder:"Search"})]}),p.jsx(qt,{disabled:n||e,onClick:a,size:"icon",variant:"ghost",className:"text-muted-foreground size-8",children:p.jsx(gn,{className:ne((n||e)&&"animate-spin")})})]})})};function lr({database:e,schema:t,tables:n,label:r,onClick:a,isActive:o,renderDropdownMenu:i,defaultOpen:s,open:l}){const[m,y]=u.useState();return p.jsx(Xe,{icon:dn,label:r,triggerComponent:Te,defaultOpen:s,open:l,children:n.map(d=>{const c={databaseName:e.name,schemaName:t.name,tableName:d.name};return p.jsxs(lt,{children:[p.jsxs(Te,{className:"hover:bg-sidebar-secondary-accent data-[active=true]:bg-sidebar-secondary-accent!",isActive:o==null?void 0:o(d),onClick:()=>{a==null||a(d)},onMouseEnter:()=>y(d),onMouseLeave:()=>y(void 0),children:[p.jsx(tn,{}),p.jsx("span",{className:"truncate",title:d.name,children:d.name})]}),i==null?void 0:i(c,m===d)]},d.name)})})}function cr({schemas:e,onClick:t,isActive:n,open:r,defaultOpen:a,children:o}){return p.jsx(p.Fragment,{children:e.map(i=>p.jsx(lt,{children:p.jsx(Xe,{icon:en,label:i.name,triggerComponent:Te,isActive:n==null?void 0:n(i),onClick:()=>t==null?void 0:t(i),defaultOpen:a==null?void 0:a(i),open:r,children:o(i)})},i.name))})}function ur({isFetchingDatabases:e,databases:t,isActive:n,defaultOpen:r,onClick:a,open:o,children:i}){const{data:{items:s}={},isFetching:l}=nn(),[m,y]=u.useState(!1),[d,c]=u.useState(!1);return e||l?null:s!=null&&s.length?t!=null&&t.length?p.jsx(p.Fragment,{children:t.map(h=>p.jsx(Ut,{children:p.jsx(Xe,{icon:Me,label:h.name,triggerComponent:st,isActive:n==null?void 0:n(h),defaultOpen:r==null?void 0:r(h),onClick:()=>a==null?void 0:a(h),open:o,children:i(h)})},h.name))}):p.jsxs(p.Fragment,{children:[p.jsx(Ye,{className:"absolute text-center text-wrap",Icon:Me,title:"No Databases Available",description:"Create a database to get started.",onCtaClick:()=>c(!0),ctaText:"Create database"}),p.jsx(Qt,{opened:d,onSetOpened:c})]}):p.jsxs(p.Fragment,{children:[p.jsx(Ye,{className:"absolute text-center text-wrap",Icon:Me,title:"No Volumes Available",description:"Create a volume to proceed with the database creation.",onCtaClick:()=>y(!0),ctaText:"Create volume"}),p.jsx(rn,{opened:m,onSetOpened:y})]})}function dr({children:e,scrollAreaClassName:t}){const{refetch:n,isFetching:r}=Yt();return p.jsxs(p.Fragment,{children:[p.jsx(Zn,{isFetchingNavigationTrees:r,onRefetchNavigationTrees:n}),p.jsxs(Jt,{className:ne("py-2",t),children:[p.jsx(Kt,{className:"w-full px-2 select-none",children:e}),p.jsx(Zt,{orientation:"vertical"})]})]})}export{or as R,dr as T,ar as a,ir as b,ur as c,cr as d,lr as e,gn as f};
