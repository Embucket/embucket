import{m as u,e as g,j as e,O as x}from"./index-Ct9KqqwV.js";import{T as j,a as v,b as f,c as r,R as T,d as c,e as C}from"./trees-items-QatHPqWy.js";import{u as k}from"./navigation-trees-DSZT8EBt.js";import"./scroll-area-DS2laZp3.js";import"./volumes-DS_aN8Wu.js";import"./create-database-dialog-DvyNpJxv.js";import"./alert-BMd_jCtt.js";import"./dashboard-DqU8RIG6.js";import"./form-D9y2bvZi.js";import"./input-C_MJiXMR.js";import"./select-Yobvwtbb.js";import"./index-Da2Z8ThW.js";import"./create-volume-dialog-C31Ug-rx.js";import"./folder-tree-C1iNkWyL.js";import"./table-DGhiBpVf.js";import"./refresh-button-CqT5Ge7j.js";import"./search-r_qVZtJ3.js";function z(){const{databaseName:t,schemaName:i,tableName:l}=u({strict:!1}),m=g(),{data:{items:d}={},isFetching:b,isLoading:p}=k(),h=a=>{m({to:"/databases/$databaseName/schemas",params:{databaseName:a.databaseName}})},N=a=>{t&&m({to:"/databases/$databaseName/schemas/$schemaName/tables",params:{databaseName:a.databaseName,schemaName:a.schemaName}})},o=a=>{t&&i&&m({to:"/databases/$databaseName/schemas/$schemaName/tables/$tableName/columns",params:{databaseName:a.databaseName,schemaName:a.schemaName,tableName:a.tableName}})};return e.jsx(e.Fragment,{children:e.jsx(j,{scrollAreaClassName:"h-[calc(100vh-var(--content-mb)-var(--content-mt)-56px-2px)]",children:e.jsx(v,{databases:d,isFetchingDatabases:b,isLoadingDatabases:p,defaultOpen:a=>a.name===t,isActive:a=>a.name===t,onClick:h,children:a=>e.jsx(f,{database:a,schemas:a.schemas,defaultOpen:s=>a.name===t&&s.name===i,isActive:s=>s.name===i,onClick:N,children:s=>e.jsxs(e.Fragment,{children:[!!s.tables.length&&e.jsx(r,{label:"Tables",tables:s.tables,database:a,isActive:n=>n.name===l,schema:s,defaultOpen:!0,onClick:o}),!!s.views.length&&e.jsx(r,{label:"Views",tables:s.views,database:a,isActive:n=>a.name===t&&s.name===i&&n.name===l,schema:s,defaultOpen:!0,onClick:o})]})})})})})}function D(){return e.jsxs(T,{direction:"horizontal",children:[e.jsx(c,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(z,{})}),e.jsx(C,{withHandle:!0}),e.jsx(c,{collapsible:!0,defaultSize:80,order:2,children:e.jsx(x,{})})]})}const J=D;export{J as component};
