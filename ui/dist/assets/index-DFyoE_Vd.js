import{j as e,r as x,B as m,D as h}from"./index-Is9gsAA6.js";import{I as p,b as u,c as j,d as b,S as o,a as i,E as f}from"./scroll-area-DULmC6FW.js";import{T as g,a as D,b as N,c as C,R as v,d as c,e as S}from"./trees-items-CGXvV9El.js";import{u as T,C as z}from"./create-database-dialog-IXBuUuwc.js";import{c as k,D as F}from"./data-table-B1slPdrm.js";import{a as w}from"./volumes-C_A8cWZq.js";import"./folder-tree-Dn8uzGZo.js";import"./table-DAPLPzzu.js";function I({isLoading:n,databases:t}){const s=k(),l=[s.accessor("name",{header:"Name"}),s.accessor("volume",{header:"Volume"})];return e.jsx(F,{rounded:!0,columns:l,data:t,isLoading:n})}function R(){const{data:{items:n}={},isFetching:t}=w(),s=a=>{console.log(a)},l=a=>{console.log(a)},d=a=>{console.log(a)};return e.jsx(e.Fragment,{children:e.jsx(g,{scrollAreaClassName:"h-[calc(100vh-56px-32px-2px)]",children:e.jsx(D,{databases:n,isFetchingDatabases:t,defaultOpen:()=>!0,onClick:s,children:a=>e.jsx(N,{schemas:a.schemas,defaultOpen:()=>!0,onClick:l,children:r=>e.jsx(C,{tables:r.tables,database:a,schema:r,defaultOpen:!0,onClick:d})})})})})}function y(){const[n,t]=x.useState(!1),{data:{items:s}={},isFetching:l}=T();return e.jsxs(e.Fragment,{children:[e.jsxs(v,{direction:"horizontal",children:[e.jsx(c,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(R,{})}),e.jsx(S,{withHandle:!0}),e.jsxs(c,{collapsible:!0,defaultSize:20,order:1,children:[e.jsxs("div",{className:"border-b p-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h1",{className:"text-lg",children:"Databases"}),e.jsx(m,{onClick:()=>t(!0),children:"Add Database"})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-muted-foreground text-sm text-nowrap",children:[s==null?void 0:s.length," databases found"]}),e.jsxs(p,{children:[e.jsx(u,{children:e.jsx(j,{})}),e.jsx(b,{className:"min-w-80",disabled:!0,placeholder:"Search"})]})]})]}),s!=null&&s.length?e.jsxs(o,{className:"h-[calc(100vh-117px-32px-2px)]",children:[e.jsx("div",{className:"flex size-full flex-col p-4",children:e.jsxs(o,{tableViewport:!0,children:[e.jsx(I,{databases:s,isLoading:l}),e.jsx(i,{orientation:"horizontal"})]})}),e.jsx(i,{orientation:"vertical"})]}):e.jsx(f,{className:"h-[calc(100vh-117px-32px-2px)]",Icon:h,title:"No Databases Found",description:"No databases have been created yet. Create a database to get started."})]})]}),e.jsx(z,{opened:n,onSetOpened:t})]})}const V=y;export{V as component};
