import{c as Ee,r as u,ao as Dn,j as m,i as te,b as Hn,d as _n,am as Tn,P as Ge,f as Gn,g as Bn,e as Fn,ap as Vn,a5 as sn,aq as On,H as Wn,B as qn,a6 as Kn,D as Ze,a4 as Un,ar as ln,as as _e}from"./index-CNt7617S.js";import{b as Xn,S as Jn,a as Zn,E as Yn}from"./data-table-C2qlI11U.js";import{a as Qn,C as et,F as nt,T as tt}from"./create-database-dialog-W56X6VQR.js";import{a as rt,b as ot,I as at}from"./input-BnDdhN0L.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],st=Ee("chevron-right",it);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ct=Ee("folder",lt);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],dt=Ee("grip-vertical",ut);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pt=Ee("refresh-cw",ft),Re=u.createContext(null);Re.displayName="PanelGroupContext";const M={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Be=10,re=u.useLayoutEffect,Ye=Dn.useId,gt=typeof Ye=="function"?Ye:()=>null;let mt=0;function Fe(e=null){const n=gt(),t=u.useRef(e||n||null);return t.current===null&&(t.current=""+mt++),e??t.current}function cn({children:e,className:n="",collapsedSize:t,collapsible:r,defaultSize:a,forwardedRef:o,id:i,maxSize:s,minSize:l,onCollapse:f,onExpand:v,onResize:d,order:c,style:b,tagName:h="div",...I}){const E=u.useContext(Re);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:z,expandPanel:R,getPanelSize:k,getPanelStyle:D,groupId:K,isPanelCollapsed:L,reevaluatePanelConstraints:w,registerPanel:O,resizePanel:J,unregisterPanel:F}=E,T=Fe(i),j=u.useRef({callbacks:{onCollapse:f,onExpand:v,onResize:d},constraints:{collapsedSize:t,collapsible:r,defaultSize:a,maxSize:s,minSize:l},id:T,idIsFromProps:i!==void 0,order:c});u.useRef({didLogMissingDefaultSizeWarning:!1}),re(()=>{const{callbacks:_,constraints:H}=j.current,G={...H};j.current.id=T,j.current.idIsFromProps=i!==void 0,j.current.order=c,_.onCollapse=f,_.onExpand=v,_.onResize=d,H.collapsedSize=t,H.collapsible=r,H.defaultSize=a,H.maxSize=s,H.minSize=l,(G.collapsedSize!==H.collapsedSize||G.collapsible!==H.collapsible||G.maxSize!==H.maxSize||G.minSize!==H.minSize)&&w(j.current,G)}),re(()=>{const _=j.current;return O(_),()=>{F(_)}},[c,T,O,F]),u.useImperativeHandle(o,()=>({collapse:()=>{z(j.current)},expand:_=>{R(j.current,_)},getId(){return T},getSize(){return k(j.current)},isCollapsed(){return L(j.current)},isExpanded(){return!L(j.current)},resize:_=>{J(j.current,_)}}),[z,R,k,L,T,J]);const ee=D(j.current,a);return u.createElement(h,{...I,children:e,className:n,id:T,style:{...ee,...b},[M.groupId]:K,[M.panel]:"",[M.panelCollapsible]:r||void 0,[M.panelId]:T,[M.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const un=u.forwardRef((e,n)=>u.createElement(cn,{...e,forwardedRef:n}));cn.displayName="Panel";un.displayName="forwardRef(Panel)";let Te=null,Ce=-1,Y=null;function ht(e,n){if(n){const t=(n&mn)!==0,r=(n&hn)!==0,a=(n&xn)!==0,o=(n&yn)!==0;if(t)return a?"se-resize":o?"ne-resize":"e-resize";if(r)return a?"sw-resize":o?"nw-resize":"w-resize";if(a)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function xt(){Y!==null&&(document.head.removeChild(Y),Te=null,Y=null,Ce=-1)}function Me(e,n){var t,r;const a=ht(e,n);if(Te!==a){if(Te=a,Y===null&&(Y=document.createElement("style"),document.head.appendChild(Y)),Ce>=0){var o;(o=Y.sheet)===null||o===void 0||o.removeRule(Ce)}Ce=(t=(r=Y.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${a} !important;}`))!==null&&t!==void 0?t:-1}}function dn(e){return e.type==="keydown"}function fn(e){return e.type.startsWith("pointer")}function pn(e){return e.type.startsWith("mouse")}function Ie(e){if(fn(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(pn(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function yt(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function bt(e,n,t){return e.x<n.x+n.width&&e.x+e.width>n.x&&e.y<n.y+n.height&&e.y+e.height>n.y}function vt(e,n){if(e===n)throw new Error("Cannot compare node with itself");const t={a:nn(e),b:nn(n)};let r;for(;t.a.at(-1)===t.b.at(-1);)e=t.a.pop(),n=t.b.pop(),r=e;C(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:en(Qe(t.a)),b:en(Qe(t.b))};if(a.a===a.b){const o=r.childNodes,i={a:t.a.at(-1),b:t.b.at(-1)};let s=o.length;for(;s--;){const l=o[s];if(l===i.a)return 1;if(l===i.b)return-1}}return Math.sign(a.a-a.b)}const zt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function St(e){var n;const t=getComputedStyle((n=gn(e))!==null&&n!==void 0?n:e).display;return t==="flex"||t==="inline-flex"}function Ct(e){const n=getComputedStyle(e);return!!(n.position==="fixed"||n.zIndex!=="auto"&&(n.position!=="static"||St(e))||+n.opacity<1||"transform"in n&&n.transform!=="none"||"webkitTransform"in n&&n.webkitTransform!=="none"||"mixBlendMode"in n&&n.mixBlendMode!=="normal"||"filter"in n&&n.filter!=="none"||"webkitFilter"in n&&n.webkitFilter!=="none"||"isolation"in n&&n.isolation==="isolate"||zt.test(n.willChange)||n.webkitOverflowScrolling==="touch")}function Qe(e){let n=e.length;for(;n--;){const t=e[n];if(C(t,"Missing node"),Ct(t))return t}return null}function en(e){return e&&Number(getComputedStyle(e).zIndex)||0}function nn(e){const n=[];for(;e;)n.push(e),e=gn(e);return n}function gn(e){const{parentNode:n}=e;return n&&n instanceof ShadowRoot?n.host:n}const mn=1,hn=2,xn=4,yn=8,Pt=yt()==="coarse";let q=[],ce=!1,Q=new Map,Ne=new Map;const ye=new Set;function wt(e,n,t,r,a){var o;const{ownerDocument:i}=n,s={direction:t,element:n,hitAreaMargins:r,setResizeHandlerState:a},l=(o=Q.get(i))!==null&&o!==void 0?o:0;return Q.set(i,l+1),ye.add(s),Pe(),function(){var v;Ne.delete(e),ye.delete(s);const d=(v=Q.get(i))!==null&&v!==void 0?v:1;if(Q.set(i,d-1),Pe(),d===1&&Q.delete(i),q.includes(s)){const c=q.indexOf(s);c>=0&&q.splice(c,1),Oe(),a("up",!0,null)}}}function Et(e){const{target:n}=e,{x:t,y:r}=Ie(e);ce=!0,Ve({target:n,x:t,y:r}),Pe(),q.length>0&&(we("down",e),e.preventDefault(),bn(n)||e.stopImmediatePropagation())}function je(e){const{x:n,y:t}=Ie(e);if(ce&&e.buttons===0&&(ce=!1,we("up",e)),!ce){const{target:r}=e;Ve({target:r,x:n,y:t})}we("move",e),Oe(),q.length>0&&e.preventDefault()}function $e(e){const{target:n}=e,{x:t,y:r}=Ie(e);Ne.clear(),ce=!1,q.length>0&&(e.preventDefault(),bn(n)||e.stopImmediatePropagation()),we("up",e),Ve({target:n,x:t,y:r}),Oe(),Pe()}function bn(e){let n=e;for(;n;){if(n.hasAttribute(M.resizeHandle))return!0;n=n.parentElement}return!1}function Ve({target:e,x:n,y:t}){q.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ye.forEach(a=>{const{element:o,hitAreaMargins:i}=a,s=o.getBoundingClientRect(),{bottom:l,left:f,right:v,top:d}=s,c=Pt?i.coarse:i.fine;if(n>=f-c&&n<=v+c&&t>=d-c&&t<=l+c){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&vt(r,o)>0){let h=r,I=!1;for(;h&&!h.contains(o);){if(bt(h.getBoundingClientRect(),s)){I=!0;break}h=h.parentElement}if(I)return}q.push(a)}})}function De(e,n){Ne.set(e,n)}function Oe(){let e=!1,n=!1;q.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:n=!0});let t=0;Ne.forEach(r=>{t|=r}),e&&n?Me("intersection",t):e?Me("horizontal",t):n?Me("vertical",t):xt()}let He=new AbortController;function Pe(){He.abort(),He=new AbortController;const e={capture:!0,signal:He.signal};ye.size&&(ce?(q.length>0&&Q.forEach((n,t)=>{const{body:r}=t;n>0&&(r.addEventListener("contextmenu",$e,e),r.addEventListener("pointerleave",je,e),r.addEventListener("pointermove",je,e))}),Q.forEach((n,t)=>{const{body:r}=t;r.addEventListener("pointerup",$e,e),r.addEventListener("pointercancel",$e,e)})):Q.forEach((n,t)=>{const{body:r}=t;n>0&&(r.addEventListener("pointerdown",Et,e),r.addEventListener("pointermove",je,e))}))}function we(e,n){ye.forEach(t=>{const{setResizeHandlerState:r}=t,a=q.includes(t);r(e,a,n)})}function Rt(){const[e,n]=u.useState(0);return u.useCallback(()=>n(t=>t+1),[])}function C(e,n){if(!e)throw console.error(n),Error(n)}function oe(e,n,t=Be){return e.toFixed(t)===n.toFixed(t)?0:e>n?1:-1}function Z(e,n,t=Be){return oe(e,n,t)===0}function V(e,n,t){return oe(e,n,t)===0}function It(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=n[r];if(!V(a,o,t))return!1}return!0}function le({panelConstraints:e,panelIndex:n,size:t}){const r=e[n];C(r!=null,`Panel constraints not found for index ${n}`);let{collapsedSize:a=0,collapsible:o,maxSize:i=100,minSize:s=0}=r;if(oe(t,s)<0)if(o){const l=(a+s)/2;oe(t,l)<0?t=a:t=s}else t=s;return t=Math.min(i,t),t=parseFloat(t.toFixed(Be)),t}function he({delta:e,initialLayout:n,panelConstraints:t,pivotIndices:r,prevLayout:a,trigger:o}){if(V(e,0))return n;const i=[...n],[s,l]=r;C(s!=null,"Invalid first pivot index"),C(l!=null,"Invalid second pivot index");let f=0;if(o==="keyboard"){{const d=e<0?l:s,c=t[d];C(c,`Panel constraints not found for index ${d}`);const{collapsedSize:b=0,collapsible:h,minSize:I=0}=c;if(h){const E=n[d];if(C(E!=null,`Previous layout not found for panel index ${d}`),V(E,b)){const z=I-E;oe(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}{const d=e<0?s:l,c=t[d];C(c,`No panel constraints found for index ${d}`);const{collapsedSize:b=0,collapsible:h,minSize:I=0}=c;if(h){const E=n[d];if(C(E!=null,`Previous layout not found for panel index ${d}`),V(E,I)){const z=E-b;oe(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}}{const d=e<0?1:-1;let c=e<0?l:s,b=0;for(;;){const I=n[c];C(I!=null,`Previous layout not found for panel index ${c}`);const z=le({panelConstraints:t,panelIndex:c,size:100})-I;if(b+=z,c+=d,c<0||c>=t.length)break}const h=Math.min(Math.abs(e),Math.abs(b));e=e<0?0-h:h}{let c=e<0?s:l;for(;c>=0&&c<t.length;){const b=Math.abs(e)-Math.abs(f),h=n[c];C(h!=null,`Previous layout not found for panel index ${c}`);const I=h-b,E=le({panelConstraints:t,panelIndex:c,size:I});if(!V(h,E)&&(f+=h-E,i[c]=E,f.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?c--:c++}}if(It(a,i))return a;{const d=e<0?l:s,c=n[d];C(c!=null,`Previous layout not found for panel index ${d}`);const b=c+f,h=le({panelConstraints:t,panelIndex:d,size:b});if(i[d]=h,!V(h,b)){let I=b-h,z=e<0?l:s;for(;z>=0&&z<t.length;){const R=i[z];C(R!=null,`Previous layout not found for panel index ${z}`);const k=R+I,D=le({panelConstraints:t,panelIndex:z,size:k});if(V(R,D)||(I-=D-R,i[z]=D),V(I,0))break;e>0?z--:z++}}}const v=i.reduce((d,c)=>c+d,0);return V(v,100)?i:a}function Nt({layout:e,panelsArray:n,pivotIndices:t}){let r=0,a=100,o=0,i=0;const s=t[0];C(s!=null,"No pivot index found"),n.forEach((d,c)=>{const{constraints:b}=d,{maxSize:h=100,minSize:I=0}=b;c===s?(r=I,a=h):(o+=I,i+=h)});const l=Math.min(a,100-o),f=Math.max(r,100-i),v=e[s];return{valueMax:l,valueMin:f,valueNow:v}}function be(e,n=document){return Array.from(n.querySelectorAll(`[${M.resizeHandleId}][data-panel-group-id="${e}"]`))}function vn(e,n,t=document){const a=be(e,t).findIndex(o=>o.getAttribute(M.resizeHandleId)===n);return a??null}function zn(e,n,t){const r=vn(e,n,t);return r!=null?[r,r+1]:[-1,-1]}function Lt(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Sn(e,n=document){if(Lt(n)&&n.dataset.panelGroupId==e)return n;const t=n.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return t||null}function Le(e,n=document){const t=n.querySelector(`[${M.resizeHandleId}="${e}"]`);return t||null}function kt(e,n,t,r=document){var a,o,i,s;const l=Le(n,r),f=be(e,r),v=l?f.indexOf(l):-1,d=(a=(o=t[v])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,c=(i=(s=t[v+1])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null;return[d,c]}function At({committedValuesRef:e,eagerValuesRef:n,groupId:t,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:i}){u.useRef({didWarnAboutMissingResizeHandle:!1}),re(()=>{if(!o)return;const s=be(t,o);for(let l=0;l<a.length-1;l++){const{valueMax:f,valueMin:v,valueNow:d}=Nt({layout:r,panelsArray:a,pivotIndices:[l,l+1]}),c=s[l];if(c!=null){const b=a[l];C(b,`No panel data found for index "${l}"`),c.setAttribute("aria-controls",b.id),c.setAttribute("aria-valuemax",""+Math.round(f)),c.setAttribute("aria-valuemin",""+Math.round(v)),c.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{s.forEach((l,f)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[t,r,a,o]),u.useEffect(()=>{if(!o)return;const s=n.current;C(s,"Eager values not found");const{panelDataArray:l}=s,f=Sn(t,o);C(f!=null,`No group found for id "${t}"`);const v=be(t,o);C(v,`No resize handles found for group id "${t}"`);const d=v.map(c=>{const b=c.getAttribute(M.resizeHandleId);C(b,"Resize handle element has no handle id attribute");const[h,I]=kt(t,b,l,o);if(h==null||I==null)return()=>{};const E=z=>{if(!z.defaultPrevented)switch(z.key){case"Enter":{z.preventDefault();const R=l.findIndex(k=>k.id===h);if(R>=0){const k=l[R];C(k,`No panel data found for index ${R}`);const D=r[R],{collapsedSize:K=0,collapsible:L,minSize:w=0}=k.constraints;if(D!=null&&L){const O=he({delta:V(D,K)?w-K:K-D,initialLayout:r,panelConstraints:l.map(J=>J.constraints),pivotIndices:zn(t,b,o),prevLayout:r,trigger:"keyboard"});r!==O&&i(O)}}break}}};return c.addEventListener("keydown",E),()=>{c.removeEventListener("keydown",E)}});return()=>{d.forEach(c=>c())}},[o,e,n,t,r,a,i])}function tn(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function Cn(e,n){const t=e==="horizontal",{x:r,y:a}=Ie(n);return t?r:a}function Mt(e,n,t,r,a){const o=t==="horizontal",i=Le(n,a);C(i,`No resize handle element found for id "${n}"`);const s=i.getAttribute(M.groupId);C(s,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const f=Cn(t,e),v=Sn(s,a);C(v,`No group element found for id "${s}"`);const d=v.getBoundingClientRect(),c=o?d.width:d.height;return(f-l)/c*100}function jt(e,n,t,r,a,o){if(dn(e)){const i=t==="horizontal";let s=0;e.shiftKey?s=100:a!=null?s=a:s=10;let l=0;switch(e.key){case"ArrowDown":l=i?0:s;break;case"ArrowLeft":l=i?-s:0;break;case"ArrowRight":l=i?s:0;break;case"ArrowUp":l=i?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:Mt(e,n,t,r,o)}function $t({panelDataArray:e}){const n=Array(e.length),t=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const i=t[o];C(i,`Panel constraints not found for index ${o}`);const{defaultSize:s}=i;s!=null&&(r++,n[o]=s,a-=s)}for(let o=0;o<e.length;o++){const i=t[o];C(i,`Panel constraints not found for index ${o}`);const{defaultSize:s}=i;if(s!=null)continue;const l=e.length-r,f=a/l;r++,n[o]=f,a-=f}return n}function ie(e,n,t){n.forEach((r,a)=>{const o=e[a];C(o,`Panel data not found for index ${a}`);const{callbacks:i,constraints:s,id:l}=o,{collapsedSize:f=0,collapsible:v}=s,d=t[l];if(d==null||r!==d){t[l]=r;const{onCollapse:c,onExpand:b,onResize:h}=i;h&&h(r,d),v&&(c||b)&&(b&&(d==null||Z(d,f))&&!Z(r,f)&&b(),c&&(d==null||!Z(d,f))&&Z(r,f)&&c())}})}function Se(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!=n[t])return!1;return!0}function Dt({defaultSize:e,dragState:n,layout:t,panelData:r,panelIndex:a,precision:o=3}){const i=t[a];let s;return i==null?s=e!=null?e.toPrecision(o):"1":r.length===1?s="1":s=i.toPrecision(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:n!==null?"none":void 0}}function Ht(e,n=10){let t=null;return(...a)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{e(...a)},n)}}function rn(e){try{if(typeof localStorage<"u")e.getItem=n=>localStorage.getItem(n),e.setItem=(n,t)=>{localStorage.setItem(n,t)};else throw new Error("localStorage not supported in this environment")}catch(n){console.error(n),e.getItem=()=>null,e.setItem=()=>{}}}function Pn(e){return`react-resizable-panels:${e}`}function wn(e){return e.map(n=>{const{constraints:t,id:r,idIsFromProps:a,order:o}=n;return a?r:o?`${o}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((n,t)=>n.localeCompare(t)).join(",")}function En(e,n){try{const t=Pn(e),r=n.getItem(t);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function _t(e,n,t){var r,a;const o=(r=En(e,t))!==null&&r!==void 0?r:{},i=wn(n);return(a=o[i])!==null&&a!==void 0?a:null}function Tt(e,n,t,r,a){var o;const i=Pn(e),s=wn(n),l=(o=En(e,a))!==null&&o!==void 0?o:{};l[s]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{a.setItem(i,JSON.stringify(l))}catch(f){console.error(f)}}function on({layout:e,panelConstraints:n}){const t=[...e],r=t.reduce((o,i)=>o+i,0);if(t.length!==n.length)throw Error(`Invalid ${n.length} panel layout: ${t.map(o=>`${o}%`).join(", ")}`);if(!V(r,100)&&t.length>0)for(let o=0;o<n.length;o++){const i=t[o];C(i!=null,`No layout data found for index ${o}`);const s=100/r*i;t[o]=s}let a=0;for(let o=0;o<n.length;o++){const i=t[o];C(i!=null,`No layout data found for index ${o}`);const s=le({panelConstraints:n,panelIndex:o,size:i});i!=s&&(a+=i-s,t[o]=s)}if(!V(a,0))for(let o=0;o<n.length;o++){const i=t[o];C(i!=null,`No layout data found for index ${o}`);const s=i+a,l=le({panelConstraints:n,panelIndex:o,size:s});if(i!==l&&(a-=l-i,t[o]=l,V(a,0)))break}return t}const Gt=100,xe={getItem:e=>(rn(xe),xe.getItem(e)),setItem:(e,n)=>{rn(xe),xe.setItem(e,n)}},an={};function Rn({autoSaveId:e=null,children:n,className:t="",direction:r,forwardedRef:a,id:o=null,onLayout:i=null,keyboardResizeBy:s=null,storage:l=xe,style:f,tagName:v="div",...d}){const c=Fe(o),b=u.useRef(null),[h,I]=u.useState(null),[E,z]=u.useState([]),R=Rt(),k=u.useRef({}),D=u.useRef(new Map),K=u.useRef(0),L=u.useRef({autoSaveId:e,direction:r,dragState:h,id:c,keyboardResizeBy:s,onLayout:i,storage:l}),w=u.useRef({layout:E,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(a,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:p}=w.current;return p},setLayout:p=>{const{onLayout:y}=L.current,{layout:P,panelDataArray:x}=w.current,g=on({layout:p,panelConstraints:x.map(S=>S.constraints)});tn(P,g)||(z(g),w.current.layout=g,y&&y(g),ie(x,g,k.current))}}),[]),re(()=>{L.current.autoSaveId=e,L.current.direction=r,L.current.dragState=h,L.current.id=c,L.current.onLayout=i,L.current.storage=l}),At({committedValuesRef:L,eagerValuesRef:w,groupId:c,layout:E,panelDataArray:w.current.panelDataArray,setLayout:z,panelGroupElement:b.current}),u.useEffect(()=>{const{panelDataArray:p}=w.current;if(e){if(E.length===0||E.length!==p.length)return;let y=an[e];y==null&&(y=Ht(Tt,Gt),an[e]=y);const P=[...p],x=new Map(D.current);y(e,P,x,E,l)}},[e,E,l]),u.useEffect(()=>{});const O=u.useCallback(p=>{const{onLayout:y}=L.current,{layout:P,panelDataArray:x}=w.current;if(p.constraints.collapsible){const g=x.map(U=>U.constraints),{collapsedSize:S=0,panelSize:N,pivotIndices:$}=ne(x,p,P);if(C(N!=null,`Panel size not found for panel "${p.id}"`),!Z(N,S)){D.current.set(p.id,N);const X=se(x,p)===x.length-1?N-S:S-N,A=he({delta:X,initialLayout:P,panelConstraints:g,pivotIndices:$,prevLayout:P,trigger:"imperative-api"});Se(P,A)||(z(A),w.current.layout=A,y&&y(A),ie(x,A,k.current))}}},[]),J=u.useCallback((p,y)=>{const{onLayout:P}=L.current,{layout:x,panelDataArray:g}=w.current;if(p.constraints.collapsible){const S=g.map(W=>W.constraints),{collapsedSize:N=0,panelSize:$=0,minSize:U=0,pivotIndices:X}=ne(g,p,x),A=y??U;if(Z($,N)){const W=D.current.get(p.id),ge=W!=null&&W>=A?W:A,Ae=se(g,p)===g.length-1?$-ge:ge-$,B=he({delta:Ae,initialLayout:x,panelConstraints:S,pivotIndices:X,prevLayout:x,trigger:"imperative-api"});Se(x,B)||(z(B),w.current.layout=B,P&&P(B),ie(g,B,k.current))}}},[]),F=u.useCallback(p=>{const{layout:y,panelDataArray:P}=w.current,{panelSize:x}=ne(P,p,y);return C(x!=null,`Panel size not found for panel "${p.id}"`),x},[]),T=u.useCallback((p,y)=>{const{panelDataArray:P}=w.current,x=se(P,p);return Dt({defaultSize:y,dragState:h,layout:E,panelData:P,panelIndex:x})},[h,E]),j=u.useCallback(p=>{const{layout:y,panelDataArray:P}=w.current,{collapsedSize:x=0,collapsible:g,panelSize:S}=ne(P,p,y);return C(S!=null,`Panel size not found for panel "${p.id}"`),g===!0&&Z(S,x)},[]),ee=u.useCallback(p=>{const{layout:y,panelDataArray:P}=w.current,{collapsedSize:x=0,collapsible:g,panelSize:S}=ne(P,p,y);return C(S!=null,`Panel size not found for panel "${p.id}"`),!g||oe(S,x)>0},[]),_=u.useCallback(p=>{const{panelDataArray:y}=w.current;y.push(p),y.sort((P,x)=>{const g=P.order,S=x.order;return g==null&&S==null?0:g==null?-1:S==null?1:g-S}),w.current.panelDataArrayChanged=!0,R()},[R]);re(()=>{if(w.current.panelDataArrayChanged){w.current.panelDataArrayChanged=!1;const{autoSaveId:p,onLayout:y,storage:P}=L.current,{layout:x,panelDataArray:g}=w.current;let S=null;if(p){const $=_t(p,g,P);$&&(D.current=new Map(Object.entries($.expandToSizes)),S=$.layout)}S==null&&(S=$t({panelDataArray:g}));const N=on({layout:S,panelConstraints:g.map($=>$.constraints)});tn(x,N)||(z(N),w.current.layout=N,y&&y(N),ie(g,N,k.current))}}),re(()=>{const p=w.current;return()=>{p.layout=[]}},[]);const H=u.useCallback(p=>{let y=!1;const P=b.current;return P&&window.getComputedStyle(P,null).getPropertyValue("direction")==="rtl"&&(y=!0),function(g){g.preventDefault();const S=b.current;if(!S)return()=>null;const{direction:N,dragState:$,id:U,keyboardResizeBy:X,onLayout:A}=L.current,{layout:W,panelDataArray:ge}=w.current,{initialLayout:ze}=$??{},Ae=zn(U,p,S);let B=jt(g,p,N,$,X,S);const Xe=N==="horizontal";Xe&&y&&(B=-B);const jn=ge.map($n=>$n.constraints),me=he({delta:B,initialLayout:ze??W,panelConstraints:jn,pivotIndices:Ae,prevLayout:W,trigger:dn(g)?"keyboard":"mouse-or-touch"}),Je=!Se(W,me);(fn(g)||pn(g))&&K.current!=B&&(K.current=B,!Je&&B!==0?Xe?De(p,B<0?mn:hn):De(p,B<0?xn:yn):De(p,0)),Je&&(z(me),w.current.layout=me,A&&A(me),ie(ge,me,k.current))}},[]),G=u.useCallback((p,y)=>{const{onLayout:P}=L.current,{layout:x,panelDataArray:g}=w.current,S=g.map(W=>W.constraints),{panelSize:N,pivotIndices:$}=ne(g,p,x);C(N!=null,`Panel size not found for panel "${p.id}"`);const X=se(g,p)===g.length-1?N-y:y-N,A=he({delta:X,initialLayout:x,panelConstraints:S,pivotIndices:$,prevLayout:x,trigger:"imperative-api"});Se(x,A)||(z(A),w.current.layout=A,P&&P(A),ie(g,A,k.current))},[]),ue=u.useCallback((p,y)=>{const{layout:P,panelDataArray:x}=w.current,{collapsedSize:g=0,collapsible:S}=y,{collapsedSize:N=0,collapsible:$,maxSize:U=100,minSize:X=0}=p.constraints,{panelSize:A}=ne(x,p,P);A!=null&&(S&&$&&Z(A,g)?Z(g,N)||G(p,N):A<X?G(p,X):A>U&&G(p,U))},[G]),de=u.useCallback((p,y)=>{const{direction:P}=L.current,{layout:x}=w.current;if(!b.current)return;const g=Le(p,b.current);C(g,`Drag handle element not found for id "${p}"`);const S=Cn(P,y);I({dragHandleId:p,dragHandleRect:g.getBoundingClientRect(),initialCursorPosition:S,initialLayout:x})},[]),fe=u.useCallback(()=>{I(null)},[]),ve=u.useCallback(p=>{const{panelDataArray:y}=w.current,P=se(y,p);P>=0&&(y.splice(P,1),delete k.current[p.id],w.current.panelDataArrayChanged=!0,R())},[R]),ae=u.useMemo(()=>({collapsePanel:O,direction:r,dragState:h,expandPanel:J,getPanelSize:F,getPanelStyle:T,groupId:c,isPanelCollapsed:j,isPanelExpanded:ee,reevaluatePanelConstraints:ue,registerPanel:_,registerResizeHandle:H,resizePanel:G,startDragging:de,stopDragging:fe,unregisterPanel:ve,panelGroupElement:b.current}),[O,h,r,J,F,T,c,j,ee,ue,_,H,G,de,fe,ve]),pe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement(Re.Provider,{value:ae},u.createElement(v,{...d,children:n,className:t,id:o,ref:b,style:{...pe,...f},[M.group]:"",[M.groupDirection]:r,[M.groupId]:c}))}const In=u.forwardRef((e,n)=>u.createElement(Rn,{...e,forwardedRef:n}));Rn.displayName="PanelGroup";In.displayName="forwardRef(PanelGroup)";function se(e,n){return e.findIndex(t=>t===n||t.id===n.id)}function ne(e,n,t){const r=se(e,n),o=r===e.length-1?[r-1,r]:[r,r+1],i=t[r];return{...n.constraints,panelSize:i,pivotIndices:o}}function Bt({disabled:e,handleId:n,resizeHandler:t,panelGroupElement:r}){u.useEffect(()=>{if(e||t==null||r==null)return;const a=Le(n,r);if(a==null)return;const o=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),t(i);break}case"F6":{i.preventDefault();const s=a.getAttribute(M.groupId);C(s,`No group element found for id "${s}"`);const l=be(s,r),f=vn(s,n,r);C(f!==null,`No resize element found for id "${n}"`);const v=i.shiftKey?f>0?f-1:l.length-1:f+1<l.length?f+1:0;l[v].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,n,t])}function Nn({children:e=null,className:n="",disabled:t=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:i,onDragging:s,onFocus:l,onPointerDown:f,onPointerUp:v,style:d={},tabIndex:c=0,tagName:b="div",...h}){var I,E;const z=u.useRef(null),R=u.useRef({onClick:i,onDragging:s,onPointerDown:f,onPointerUp:v});u.useEffect(()=>{R.current.onClick=i,R.current.onDragging=s,R.current.onPointerDown=f,R.current.onPointerUp=v});const k=u.useContext(Re);if(k===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:D,groupId:K,registerResizeHandle:L,startDragging:w,stopDragging:O,panelGroupElement:J}=k,F=Fe(a),[T,j]=u.useState("inactive"),[ee,_]=u.useState(!1),[H,G]=u.useState(null),ue=u.useRef({state:T});re(()=>{ue.current.state=T}),u.useEffect(()=>{if(t)G(null);else{const ae=L(F);G(()=>ae)}},[t,F,L]);const de=(I=r==null?void 0:r.coarse)!==null&&I!==void 0?I:15,fe=(E=r==null?void 0:r.fine)!==null&&E!==void 0?E:5;u.useEffect(()=>{if(t||H==null)return;const ae=z.current;C(ae,"Element ref not attached");let pe=!1;return wt(F,ae,D,{coarse:de,fine:fe},(y,P,x)=>{if(!P){j("inactive");return}switch(y){case"down":{j("drag"),pe=!1,C(x,'Expected event to be defined for "down" action'),w(F,x);const{onDragging:g,onPointerDown:S}=R.current;g==null||g(!0),S==null||S();break}case"move":{const{state:g}=ue.current;pe=!0,g!=="drag"&&j("hover"),C(x,'Expected event to be defined for "move" action'),H(x);break}case"up":{j("hover"),O();const{onClick:g,onDragging:S,onPointerUp:N}=R.current;S==null||S(!1),N==null||N(),pe||g==null||g();break}}})},[de,D,t,fe,L,F,H,w,O]),Bt({disabled:t,handleId:F,resizeHandler:H,panelGroupElement:J});const ve={touchAction:"none",userSelect:"none"};return u.createElement(b,{...h,children:e,className:n,id:a,onBlur:()=>{_(!1),o==null||o()},onFocus:()=>{_(!0),l==null||l()},ref:z,role:"separator",style:{...ve,...d},tabIndex:c,[M.groupDirection]:D,[M.groupId]:K,[M.resizeHandle]:"",[M.resizeHandleActive]:T==="drag"?"pointer":ee?"keyboard":void 0,[M.resizeHandleEnabled]:!t,[M.resizeHandleId]:F,[M.resizeHandleState]:T})}Nn.displayName="PanelResizeHandle";function er({className:e,...n}){return m.jsx(In,{autoSaveId:"persistence",storage:localStorage,"data-slot":"resizable-panel-group",className:te("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...n})}function nr({...e}){return m.jsx(un,{"data-slot":"resizable-panel",...e})}function tr({withHandle:e,className:n,...t}){return m.jsx(Nn,{"data-slot":"resizable-handle",className:te("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...t,children:e&&m.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:m.jsx(dt,{className:"size-2.5"})})})}var ke="Collapsible",[Ft,rr]=_n(ke),[Vt,We]=Ft(ke),Ln=u.forwardRef((e,n)=>{const{__scopeCollapsible:t,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...s}=e,[l,f]=Hn({prop:r,defaultProp:a??!1,onChange:i,caller:ke});return m.jsx(Vt,{scope:t,disabled:o,contentId:Tn(),open:l,onOpenToggle:u.useCallback(()=>f(v=>!v),[f]),children:m.jsx(Ge.div,{"data-state":Ke(l),"data-disabled":o?"":void 0,...s,ref:n})})});Ln.displayName=ke;var kn="CollapsibleTrigger",An=u.forwardRef((e,n)=>{const{__scopeCollapsible:t,...r}=e,a=We(kn,t);return m.jsx(Ge.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Ke(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:n,onClick:Gn(e.onClick,a.onOpenToggle)})});An.displayName=kn;var qe="CollapsibleContent",Mn=u.forwardRef((e,n)=>{const{forceMount:t,...r}=e,a=We(qe,e.__scopeCollapsible);return m.jsx(Bn,{present:t||a.open,children:({present:o})=>m.jsx(Ot,{...r,ref:n,present:o})})});Mn.displayName=qe;var Ot=u.forwardRef((e,n)=>{const{__scopeCollapsible:t,present:r,children:a,...o}=e,i=We(qe,t),[s,l]=u.useState(r),f=u.useRef(null),v=Fn(n,f),d=u.useRef(0),c=d.current,b=u.useRef(0),h=b.current,I=i.open||s,E=u.useRef(I),z=u.useRef(void 0);return u.useEffect(()=>{const R=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(R)},[]),Vn(()=>{const R=f.current;if(R){z.current=z.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const k=R.getBoundingClientRect();d.current=k.height,b.current=k.width,E.current||(R.style.transitionDuration=z.current.transitionDuration,R.style.animationName=z.current.animationName),l(r)}},[i.open,r]),m.jsx(Ge.div,{"data-state":Ke(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!I,...o,ref:v,style:{"--radix-collapsible-content-height":c?`${c}px`:void 0,"--radix-collapsible-content-width":h?`${h}px`:void 0,...e.style},children:I&&a})});function Ke(e){return e?"open":"closed"}var Wt=Ln;function qt({...e}){return m.jsx(Wt,{"data-slot":"collapsible",...e})}function Kt({...e}){return m.jsx(An,{"data-slot":"collapsible-trigger",...e})}function Ut({...e}){return m.jsx(Mn,{"data-slot":"collapsible-content",...e})}function Ue({icon:e,label:n,triggerComponent:t=sn,children:r,defaultOpen:a=!0,isActive:o,className:i,open:s,triggerClassName:l,contentClassName:f,onClick:v}){return m.jsxs(qt,{defaultOpen:a,open:s,className:te("group/collapsible [&[data-state=open]>a>svg:first-child]:rotate-90 [&[data-state=open]>button>svg:first-child]:rotate-90",i),children:[m.jsx(Kt,{asChild:!0,children:m.jsxs(t,{className:te("hover:bg-sidebar-secondary-accent data-[active=true]:bg-sidebar-secondary-accent!",l),onClick:v,isActive:o,children:[m.jsx(st,{className:"transition-transform"}),m.jsx(e,{}),m.jsx("span",{className:"truncate",children:n})]})}),m.jsx(Ut,{children:m.jsx(On,{className:te("mr-0 pr-0 pb-0",f),children:r})})]})}const Xt=({isFetchingNavigationTrees:e,onRefetchNavigationTrees:n})=>{const[t,r]=u.useState(!1),a=async()=>{r(!0),await new Promise(o=>setTimeout(o,500)),n(),r(!1)};return m.jsx(Wn,{className:"px-4 pt-4",children:m.jsxs("div",{className:"justify flex items-center justify-between gap-2",children:[m.jsxs(rt,{className:"w-full",children:[m.jsx(ot,{children:m.jsx(Xn,{})}),m.jsx(at,{disabled:!0,placeholder:"Search"})]}),m.jsx(qn,{disabled:t||e,onClick:a,size:"icon",variant:"ghost",className:"text-muted-foreground size-8",children:m.jsx(pt,{className:te((t||e)&&"animate-spin")})})]})})};function or({database:e,schema:n,tables:t,label:r,onClick:a,isActive:o,renderDropdownMenu:i,defaultOpen:s,open:l}){const[f,v]=u.useState();return m.jsx(Ue,{icon:ct,label:r,triggerComponent:_e,defaultOpen:s,open:l,children:t.map(d=>{const c={databaseName:e.name,schemaName:n.name,tableName:d.name};return m.jsxs(ln,{children:[m.jsxs(_e,{className:"hover:bg-sidebar-secondary-accent data-[active=true]:bg-sidebar-secondary-accent!",isActive:o==null?void 0:o(d),onClick:()=>{a==null||a(d)},onMouseEnter:()=>v(d),onMouseLeave:()=>v(void 0),children:[m.jsx(tt,{}),m.jsx("span",{className:"truncate",title:d.name,children:d.name})]}),i==null?void 0:i(c,f===d)]},d.name)})})}function ar({schemas:e,onClick:n,isActive:t,open:r,defaultOpen:a,children:o}){return m.jsx(m.Fragment,{children:e.map(i=>m.jsx(ln,{children:m.jsx(Ue,{icon:nt,label:i.name,triggerComponent:_e,isActive:t==null?void 0:t(i),onClick:()=>n==null?void 0:n(i),defaultOpen:a==null?void 0:a(i),open:r,children:o(i)})},i.name))})}function ir({isFetchingDatabases:e,databases:n,isActive:t,defaultOpen:r,onClick:a,open:o,children:i}){const[s,l]=u.useState(!1);return e?null:n!=null&&n.length?m.jsx(m.Fragment,{children:n.map(f=>m.jsx(Un,{children:m.jsx(Ue,{icon:Ze,label:f.name,triggerComponent:sn,isActive:t==null?void 0:t(f),defaultOpen:r==null?void 0:r(f),onClick:()=>a==null?void 0:a(f),open:o,children:i(f)})},f.name))}):m.jsxs(m.Fragment,{children:[m.jsx(Yn,{className:"absolute text-center text-wrap",Icon:Ze,title:"No Databases Available",description:"Create a database to start organizing your data.",onCtaClick:()=>l(!0),ctaText:"Create database"}),m.jsx(et,{opened:s,onSetOpened:l})]})}function sr({children:e,scrollAreaClassName:n}){const{refetch:t,isFetching:r}=Qn();return m.jsxs(m.Fragment,{children:[m.jsx(Xt,{isFetchingNavigationTrees:r,onRefetchNavigationTrees:t}),m.jsxs(Jn,{className:te("py-2",n),children:[m.jsx(Kn,{className:"w-full px-2 select-none",children:e}),m.jsx(Zn,{orientation:"vertical"})]})]})}export{er as R,sr as T,nr as a,tr as b,ir as c,ar as d,or as e,pt as f};
