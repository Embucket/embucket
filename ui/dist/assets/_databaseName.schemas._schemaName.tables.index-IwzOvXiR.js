import{o as b,j as e,y as T,n as d,k as y,p as g,B as C,q as x}from"./index-CNt7617S.js";import{R,a as p,b as f}from"./trees-items-BE6FYYBI.js";import{b as E}from"./tables-E2DCcROg.js";import{D as N,a as S}from"./data-page-header-zqoNi1u6.js";import{D as j}from"./data-page-trees-q2ztJx9S.js";import{c as A,D}from"./data-table-C2qlI11U.js";import{F as P,T as _}from"./create-database-dialog-W56X6VQR.js";import"./input-BnDdhN0L.js";import"./form-C19VH7J2.js";import"./index-C6DfC7cd.js";function k({isLoading:r,tables:n,databaseName:s,schemaName:a}){const l=b(),t=A(),c=[t.accessor("name",{header:"Name"}),t.accessor("type",{header:"Type"}),t.accessor("totalBytes",{header:"Total Bytes"}),t.accessor("totalRows",{header:"Row Count"}),t.accessor("createdAt",{header:"Created"})],m=i=>{l({to:"/databases/$databaseName/schemas/$schemaName/tables/$tableName/columns",params:{databaseName:s,schemaName:a,tableName:i.name}})};return e.jsx(D,{rounded:!0,columns:c,data:n,isLoading:r,onRowClick:m})}const w=`-- Replace <table_name> with the desired one (e.g., 's'), and specify appropriate column names and data types.
-- Example: CREATE TABLE mydb1.myschema1.s (id INT, name VARCHAR(100));
CREATE TABLE mydb1.myschema1.<table_name> (<col1_name> <col1_type>, <col2_name> <col2_type>);
`;function z(){const r=b(),{databaseName:n,schemaName:s}=T({from:"/databases/$databaseName/schemas/$schemaName/tables/"}),{data:{items:a}={},isFetching:l}=E(n,s),t=d(o=>o.addTab),c=d(o=>o.setSelectedTree),m=y(),{mutateAsync:i,isPending:u}=g({mutation:{onSuccess:o=>{t(o),c({databaseName:n,schemaName:s,tableName:""}),r({to:"/sql-editor/$worksheetId",params:{worksheetId:o.id.toString()}}),m.invalidateQueries({queryKey:x()})}}}),h=()=>{i({data:{name:"",content:w}})};return e.jsx(e.Fragment,{children:e.jsxs(R,{direction:"horizontal",children:[e.jsx(p,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(j,{})}),e.jsx(f,{withHandle:!0}),e.jsxs(p,{collapsible:!0,defaultSize:20,order:1,children:[e.jsx(N,{title:s,Icon:P,secondaryText:`${a==null?void 0:a.length} tables found`,Action:e.jsx(C,{disabled:u,onClick:h,children:"Add Table"})}),e.jsx(S,{isEmpty:!(a!=null&&a.length),Table:e.jsx(k,{isLoading:l,tables:a??[],databaseName:n,schemaName:s}),emptyStateIcon:_,emptyStateTitle:"No Tables Found",emptyStateDescription:"No tables have been created yet. Create a table to get started."})]})]})})}const K=z;export{K as component};
