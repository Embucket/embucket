import{c as b,j as e,r as x,y as T,B as j}from"./index-BuCLPw2N.js";import{R as D,a as m,b as f}from"./trees-items-Fz-v_yfm.js";import{T as g,a as y,b as c,c as d,D as N}from"./data-preview-table-C7lmE0CT.js";import{T as C}from"./table-data-upload-dialog-DMH2kVas.js";import{a as v,u as S}from"./tables-CTmWcVCu.js";import{D as P,a as u}from"./data-page-header-Cr3oA3GH.js";import{D as z}from"./data-page-trees-DAhxZQpa.js";import{c as w,D as L}from"./data-table-C2bFf4Tg.js";import{T as F}from"./create-database-dialog-D3mRGHvx.js";import"./input-CGDJAu4Z.js";import"./form-cVYBcJ_f.js";import"./index-CeboMF56.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]],p=b("columns-2",H);function I({isLoading:r,columns:n}){const a=w(),s=[a.accessor("name",{header:"Name"}),a.accessor("type",{header:"Type"})];return e.jsx(L,{rounded:!0,columns:s,data:n,isLoading:r})}function R(){const[r,n]=x.useState(!1),{databaseName:a,schemaName:s,tableName:o}=T({from:"/databases/$databaseName/schemas/$schemaName/tables/$tableName/columns/"}),{data:{items:t}={},isFetching:i}=v(a,s,o),{data:{items:l}={},isFetching:h}=S(a,s,o);return e.jsxs(e.Fragment,{children:[e.jsxs(D,{direction:"horizontal",children:[e.jsx(m,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(z,{})}),e.jsx(f,{withHandle:!0}),e.jsxs(m,{collapsible:!0,defaultSize:20,order:1,children:[e.jsx(P,{title:o,Icon:F,secondaryText:`${t==null?void 0:t.length} columns found`,Action:e.jsx(j,{onClick:()=>n(!0),disabled:i,children:"Load Data"})}),e.jsxs(g,{defaultValue:"columns",className:"size-full",children:[e.jsxs(y,{className:"px-4",children:[e.jsx(c,{value:"columns",children:"Columns"}),e.jsx(c,{value:"data-preview",children:"Data Preview"})]}),e.jsx(d,{value:"columns",className:"m-0",children:e.jsx(u,{hasTabs:!0,isEmpty:!(t!=null&&t.length),Table:e.jsx(I,{isLoading:i,columns:t??[]}),emptyStateIcon:p,emptyStateTitle:"No Columns Found",emptyStateDescription:"No columns have been created yet. Create a column to get started."})}),e.jsx(d,{value:"data-preview",className:"m-0",children:e.jsx(u,{hasTabs:!0,isEmpty:!(l!=null&&l.length),Table:e.jsx(N,{isLoading:h,columns:l??[]}),emptyStateIcon:p,emptyStateTitle:"No Data Found",emptyStateDescription:"No data has been loaded for this table yet."})})]})]})]}),a&&s&&o&&e.jsx(C,{opened:r,onSetOpened:n,databaseName:a,schemaName:s,tableName:o})]})}const J=R;export{J as component};
