import{r as x,j as e,P as w,c as y,e as f,u as b,f as k,g as j,h as S,D as g,i as T,k as C}from"./index-DjWaHfFL.js";import{P as D,c as z,D as H,S as h,a as u,E as O}from"./data-table-CGEkQJDF.js";import{a as I}from"./index-DMtN3C__.js";import{D as A,P}from"./page-header-e9vw1Kvy.js";import{T as E}from"./table-data-upload-dialog-DT-_DIl9.js";import{C as F,F as U,T as W}from"./create-database-dialog-DUYnPK5O.js";import"./input-8BMw7f6t.js";import"./form-ZUtrbLJC.js";import"./tables-TXYXdC5G.js";var q="Separator",p="horizontal",L=["horizontal","vertical"],N=x.forwardRef((t,a)=>{const{decorative:r,orientation:i=p,...n}=t,o=M(i)?i:p,s=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(w.div,{"data-orientation":o,...s,...n,ref:a})});N.displayName=q;function M(t){return L.includes(t)}var Q=N;function m({className:t,orientation:a="horizontal",decorative:r=!0,...i}){return e.jsx(Q,{"data-slot":"separator-root",decorative:r,orientation:a,className:y("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V=f("file-text",R);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],$=f("upload",_);function G(){const[t,a]=x.useState(!1),[r,i]=x.useState(!1),n=b(c=>c.addTab),o=k(),d=j(),{mutateAsync:s,isPending:l}=S({mutation:{onSuccess:c=>{n(c),d({to:"/sql-editor/$worksheetId",params:{worksheetId:c.id.toString()}}),o.invalidateQueries({queryKey:T()})}}}),v=()=>{s({data:{name:"",content:""}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4 w-full px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("button",{onClick:v,disabled:l,className:"hover:bg-sidebar-secondary-accent bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(D,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Create SQL Worksheet"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"hover:bg-sidebar-secondary-accent bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(g,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Create Database"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"hover:bg-sidebar-secondary-accent bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx($,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload Local Files"})]})]})}),e.jsx(F,{opened:t,onSetOpened:a}),e.jsx(E,{opened:r,onSetOpened:i})]})}function B({dashboardData:t}){return e.jsx("div",{className:"w-full bg-transparent",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-1 rounded-l-md border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Databases"}),e.jsx(g,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalDatabases})})]}),e.jsx(m,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Schemas"}),e.jsx(U,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalSchemas})})]}),e.jsx(m,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Tables"}),e.jsx(W,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalTables})})]}),e.jsx(m,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 rounded-r-md border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Queries"}),e.jsx(A,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalQueries})})]})]})})}function K({isLoading:t,worksheets:a}){const r=j(),i=b(s=>s.addTab),n=s=>{i(s),r({to:"/sql-editor/$worksheetId",params:{worksheetId:s.id.toString()}})},o=z(),d=[o.accessor("id",{header:"Id"}),o.accessor("content",{header:"Content"}),o.accessor("updatedAt",{header:"Updated At",cell:s=>{const l=new Date(s.getValue()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsx("span",{children:l})}}),o.accessor("createdAt",{header:"Created At",cell:s=>{const l=new Date(s.getValue()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsx("span",{children:l})}})];return e.jsx(H,{rounded:!0,columns:d,onRowClick:n,data:a,isLoading:t})}function Z(){const{data:{items:t}={},isLoading:a}=C(),{data:r}=I();return r?e.jsxs(e.Fragment,{children:[e.jsx(P,{title:"Home"}),e.jsxs(h,{className:"h-[calc(100vh-65px-32px-2px)]",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-2 text-3xl font-semibold",children:"Welcome!"}),e.jsx("p",{className:"text-muted-foreground font-light",children:"Nice seeing you here ðŸ˜Ž"})]}),e.jsx(G,{}),e.jsxs("div",{className:"flex size-full flex-col p-4",children:[e.jsx("p",{className:"mb-4 font-semibold",children:"Overview"}),e.jsx(B,{dashboardData:r}),e.jsxs("div",{className:"mt-4 flex size-full flex-col",children:[e.jsx("p",{className:"mb-4 font-semibold",children:"Worksheets"}),t!=null&&t.length?e.jsxs(h,{tableViewport:!0,children:[e.jsx(K,{worksheets:t,isLoading:a}),e.jsx(u,{orientation:"horizontal"})]}):e.jsx(O,{className:"min-h-[calc(100vh-200px-344px)]",Icon:V,title:"No SQL Worksheets Created Yet",description:"Create your first worksheet to start querying data"})]})]}),e.jsx(u,{orientation:"vertical"})]})]}):null}const ie=Z;export{ie as component};
