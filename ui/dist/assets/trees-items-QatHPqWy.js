import{b as Ve,r as u,a5 as Gt,j as d,c as le,p as Ot,J as Bt,a6 as Vt,P as We,q as Wt,Y as Kt,I as Ut,a7 as qt,v as Ke,a8 as Xt,Q as ut,D as we,a9 as Re,aa as be,z as Jt,t as Yt}from"./index-Ct9KqqwV.js";import{b as Zt,S as Qt,a as en,E as tt}from"./scroll-area-DS2laZp3.js";import{u as tn}from"./navigation-trees-DSZT8EBt.js";import{u as nn}from"./volumes-DS_aN8Wu.js";import{C as rn}from"./create-database-dialog-DvyNpJxv.js";import{C as on}from"./create-volume-dialog-C31Ug-rx.js";import{F as dt}from"./folder-tree-C1iNkWyL.js";import{T as ft}from"./table-DGhiBpVf.js";import{I as an,a as sn,b as ln}from"./input-C_MJiXMR.js";import{R as cn}from"./refresh-button-CqT5Ge7j.js";import{S as un}from"./search-r_qVZtJ3.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fn=Ve("chevron-right",dn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],mn=Ve("folder",pn);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],hn=Ve("grip-vertical",gn),Ae=u.createContext(null);Ae.displayName="PanelGroupContext";const L={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Ue=10,ne=u.useLayoutEffect,nt=Gt.useId,xn=typeof nt=="function"?nt:()=>null;let bn=0;function qe(e=null){const t=xn(),n=u.useRef(e||t||null);return n.current===null&&(n.current=""+bn++),e??n.current}function pt({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:o,id:i,maxSize:s,minSize:l,onCollapse:m,onExpand:b,onResize:f,order:c,style:h,tagName:x="div",...I}){const E=u.useContext(Ae);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:z,expandPanel:R,getPanelSize:k,getPanelStyle:$,groupId:U,isPanelCollapsed:A,reevaluatePanelConstraints:w,registerPanel:V,resizePanel:J,unregisterPanel:O}=E,T=qe(i),D=u.useRef({callbacks:{onCollapse:m,onExpand:b,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:s,minSize:l},id:T,idIsFromProps:i!==void 0,order:c});u.useRef({didLogMissingDefaultSizeWarning:!1}),ne(()=>{const{callbacks:H,constraints:_}=D.current,F={..._};D.current.id=T,D.current.idIsFromProps=i!==void 0,D.current.order=c,H.onCollapse=m,H.onExpand=b,H.onResize=f,_.collapsedSize=n,_.collapsible=r,_.defaultSize=a,_.maxSize=s,_.minSize=l,(F.collapsedSize!==_.collapsedSize||F.collapsible!==_.collapsible||F.maxSize!==_.maxSize||F.minSize!==_.minSize)&&w(D.current,F)}),ne(()=>{const H=D.current;return V(H),()=>{O(H)}},[c,T,V,O]),u.useImperativeHandle(o,()=>({collapse:()=>{z(D.current)},expand:H=>{R(D.current,H)},getId(){return T},getSize(){return k(D.current)},isCollapsed(){return A(D.current)},isExpanded(){return!A(D.current)},resize:H=>{J(D.current,H)}}),[z,R,k,A,T,J]);const ee=$(D.current,a);return u.createElement(x,{...I,children:e,className:t,id:T,style:{...ee,...h},[L.groupId]:U,[L.panel]:"",[L.panelCollapsible]:r||void 0,[L.panelId]:T,[L.panelSize]:parseFloat(""+ee.flexGrow).toFixed(1)})}const mt=u.forwardRef((e,t)=>u.createElement(pt,{...e,forwardedRef:t}));pt.displayName="Panel";mt.displayName="forwardRef(Panel)";let Be=null,Ee=-1,Z=null;function vn(e,t,n){const r=(t&vt)!==0,a=(t&yt)!==0,o=(t&zt)!==0,i=(t&St)!==0;if(t){if(r)return o?"se-resize":i?"ne-resize":"e-resize";if(a)return o?"sw-resize":i?"nw-resize":"w-resize";if(o)return"s-resize";if(i)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function yn(){Z!==null&&(document.head.removeChild(Z),Be=null,Z=null,Ee=-1)}function _e(e,t,n){var r,a;const o=vn(e,t);if(Be!==o){if(Be=o,Z===null&&(Z=document.createElement("style"),document.head.appendChild(Z)),Ee>=0){var i;(i=Z.sheet)===null||i===void 0||i.removeRule(Ee)}Ee=(r=(a=Z.sheet)===null||a===void 0?void 0:a.insertRule(`*{cursor: ${o} !important;}`))!==null&&r!==void 0?r:-1}}function gt(e){return e.type==="keydown"}function ht(e){return e.type.startsWith("pointer")}function xt(e){return e.type.startsWith("mouse")}function ke(e){if(ht(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(xt(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function zn(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Sn(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Cn(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:at(e),b:at(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;C(r,"Stacking order can only be calculated for elements with a common ancestor");const a={a:ot(rt(n.a)),b:ot(rt(n.b))};if(a.a===a.b){const o=r.childNodes,i={a:n.a.at(-1),b:n.b.at(-1)};let s=o.length;for(;s--;){const l=o[s];if(l===i.a)return 1;if(l===i.b)return-1}}return Math.sign(a.a-a.b)}const Pn=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function wn(e){var t;const n=getComputedStyle((t=bt(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function En(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||wn(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||Pn.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function rt(e){let t=e.length;for(;t--;){const n=e[t];if(C(n,"Missing node"),En(n))return n}return null}function ot(e){return e&&Number(getComputedStyle(e).zIndex)||0}function at(e){const t=[];for(;e;)t.push(e),e=bt(e);return t}function bt(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const vt=1,yt=2,zt=4,St=8,Rn=zn()==="coarse";let K=[],ce=!1,Q=new Map,je=new Map;const ve=new Set;function In(e,t,n,r,a){var o;const{ownerDocument:i}=t,s={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},l=(o=Q.get(i))!==null&&o!==void 0?o:0;return Q.set(i,l+1),ve.add(s),Ie(),function(){var b;je.delete(e),ve.delete(s);const f=(b=Q.get(i))!==null&&b!==void 0?b:1;if(Q.set(i,f-1),Ie(),f===1&&Q.delete(i),K.includes(s)){const c=K.indexOf(s);c>=0&&K.splice(c,1),Le(),a("up",!0,null)}}}function Nn(e){const{target:t}=e,{x:n,y:r}=ke(e);ce=!0,Xe({target:t,x:n,y:r}),Ie(),K.length>0&&(Ne("down",e),Le(),e.preventDefault(),Ct(t)||e.stopImmediatePropagation())}function He(e){const{x:t,y:n}=ke(e);if(ce&&e.type!=="pointerleave"&&e.buttons===0&&(ce=!1,Ne("up",e)),!ce){const{target:r}=e;Xe({target:r,x:t,y:n})}Ne("move",e),Le(),K.length>0&&e.preventDefault()}function Te(e){const{target:t}=e,{x:n,y:r}=ke(e);je.clear(),ce=!1,K.length>0&&(e.preventDefault(),Ct(t)||e.stopImmediatePropagation()),Ne("up",e),Xe({target:t,x:n,y:r}),Le(),Ie()}function Ct(e){let t=e;for(;t;){if(t.hasAttribute(L.resizeHandle))return!0;t=t.parentElement}return!1}function Xe({target:e,x:t,y:n}){K.splice(0);let r=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(r=e),ve.forEach(a=>{const{element:o,hitAreaMargins:i}=a,s=o.getBoundingClientRect(),{bottom:l,left:m,right:b,top:f}=s,c=Rn?i.coarse:i.fine;if(t>=m-c&&t<=b+c&&n>=f-c&&n<=l+c){if(r!==null&&document.contains(r)&&o!==r&&!o.contains(r)&&!r.contains(o)&&Cn(r,o)>0){let x=r,I=!1;for(;x&&!x.contains(o);){if(Sn(x.getBoundingClientRect(),s)){I=!0;break}x=x.parentElement}if(I)return}K.push(a)}})}function Fe(e,t){je.set(e,t)}function Le(){let e=!1,t=!1;K.forEach(r=>{const{direction:a}=r;a==="horizontal"?e=!0:t=!0});let n=0;je.forEach(r=>{n|=r}),e&&t?_e("intersection",n):e?_e("horizontal",n):t?_e("vertical",n):yn()}let Ge;function Ie(){var e;(e=Ge)===null||e===void 0||e.abort(),Ge=new AbortController;const t={capture:!0,signal:Ge.signal};ve.size&&(ce?(K.length>0&&Q.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("contextmenu",Te,t),a.addEventListener("pointerleave",He,t),a.addEventListener("pointermove",He,t))}),Q.forEach((n,r)=>{const{body:a}=r;a.addEventListener("pointerup",Te,t),a.addEventListener("pointercancel",Te,t)})):Q.forEach((n,r)=>{const{body:a}=r;n>0&&(a.addEventListener("pointerdown",Nn,t),a.addEventListener("pointermove",He,t))}))}function Ne(e,t){ve.forEach(n=>{const{setResizeHandlerState:r}=n,a=K.includes(n);r(e,a,t)})}function An(){const[e,t]=u.useState(0);return u.useCallback(()=>t(n=>n+1),[])}function C(e,t){if(!e)throw console.error(t),Error(t)}function re(e,t,n=Ue){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Y(e,t,n=Ue){return re(e,t,n)===0}function B(e,t,n){return re(e,t,n)===0}function kn(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const a=e[r],o=t[r];if(!B(a,o,n))return!1}return!0}function se({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];C(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:o,maxSize:i=100,minSize:s=0}=r;if(re(n,s)<0)if(o){const l=(a+s)/2;re(n,l)<0?n=a:n=s}else n=s;return n=Math.min(i,n),n=parseFloat(n.toFixed(Ue)),n}function he({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:o}){if(B(e,0))return t;const i=[...t],[s,l]=r;C(s!=null,"Invalid first pivot index"),C(l!=null,"Invalid second pivot index");let m=0;if(o==="keyboard"){{const f=e<0?l:s,c=n[f];C(c,`Panel constraints not found for index ${f}`);const{collapsedSize:h=0,collapsible:x,minSize:I=0}=c;if(x){const E=t[f];if(C(E!=null,`Previous layout not found for panel index ${f}`),B(E,h)){const z=I-E;re(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}{const f=e<0?s:l,c=n[f];C(c,`No panel constraints found for index ${f}`);const{collapsedSize:h=0,collapsible:x,minSize:I=0}=c;if(x){const E=t[f];if(C(E!=null,`Previous layout not found for panel index ${f}`),B(E,I)){const z=E-h;re(z,Math.abs(e))>0&&(e=e<0?0-z:z)}}}}{const f=e<0?1:-1;let c=e<0?l:s,h=0;for(;;){const I=t[c];C(I!=null,`Previous layout not found for panel index ${c}`);const z=se({panelConstraints:n,panelIndex:c,size:100})-I;if(h+=z,c+=f,c<0||c>=n.length)break}const x=Math.min(Math.abs(e),Math.abs(h));e=e<0?0-x:x}{let c=e<0?s:l;for(;c>=0&&c<n.length;){const h=Math.abs(e)-Math.abs(m),x=t[c];C(x!=null,`Previous layout not found for panel index ${c}`);const I=x-h,E=se({panelConstraints:n,panelIndex:c,size:I});if(!B(x,E)&&(m+=x-E,i[c]=E,m.toFixed(3).localeCompare(Math.abs(e).toFixed(3),void 0,{numeric:!0})>=0))break;e<0?c--:c++}}if(kn(a,i))return a;{const f=e<0?l:s,c=t[f];C(c!=null,`Previous layout not found for panel index ${f}`);const h=c+m,x=se({panelConstraints:n,panelIndex:f,size:h});if(i[f]=x,!B(x,h)){let I=h-x,z=e<0?l:s;for(;z>=0&&z<n.length;){const R=i[z];C(R!=null,`Previous layout not found for panel index ${z}`);const k=R+I,$=se({panelConstraints:n,panelIndex:z,size:k});if(B(R,$)||(I-=$-R,i[z]=$),B(I,0))break;e>0?z--:z++}}}const b=i.reduce((f,c)=>c+f,0);return B(b,100)?i:a}function jn({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,o=0,i=0;const s=n[0];C(s!=null,"No pivot index found"),t.forEach((f,c)=>{const{constraints:h}=f,{maxSize:x=100,minSize:I=0}=h;c===s?(r=I,a=x):(o+=I,i+=x)});const l=Math.min(a,100-o),m=Math.max(r,100-i),b=e[s];return{valueMax:l,valueMin:m,valueNow:b}}function ye(e,t=document){return Array.from(t.querySelectorAll(`[${L.resizeHandleId}][data-panel-group-id="${e}"]`))}function Pt(e,t,n=document){const a=ye(e,n).findIndex(o=>o.getAttribute(L.resizeHandleId)===t);return a??null}function wt(e,t,n){const r=Pt(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Ln(e){return e instanceof HTMLElement?!0:typeof e=="object"&&e!==null&&"tagName"in e&&"getAttribute"in e}function Et(e,t=document){if(Ln(t)&&t.dataset.panelGroupId==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function De(e,t=document){const n=t.querySelector(`[${L.resizeHandleId}="${e}"]`);return n||null}function Dn(e,t,n,r=document){var a,o,i,s;const l=De(t,r),m=ye(e,r),b=l?m.indexOf(l):-1,f=(a=(o=n[b])===null||o===void 0?void 0:o.id)!==null&&a!==void 0?a:null,c=(i=(s=n[b+1])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null;return[f,c]}function Mn({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:o,setLayout:i}){u.useRef({didWarnAboutMissingResizeHandle:!1}),ne(()=>{if(!o)return;const s=ye(n,o);for(let l=0;l<a.length-1;l++){const{valueMax:m,valueMin:b,valueNow:f}=jn({layout:r,panelsArray:a,pivotIndices:[l,l+1]}),c=s[l];if(c!=null){const h=a[l];C(h,`No panel data found for index "${l}"`),c.setAttribute("aria-controls",h.id),c.setAttribute("aria-valuemax",""+Math.round(m)),c.setAttribute("aria-valuemin",""+Math.round(b)),c.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{s.forEach((l,m)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,a,o]),u.useEffect(()=>{if(!o)return;const s=t.current;C(s,"Eager values not found");const{panelDataArray:l}=s,m=Et(n,o);C(m!=null,`No group found for id "${n}"`);const b=ye(n,o);C(b,`No resize handles found for group id "${n}"`);const f=b.map(c=>{const h=c.getAttribute(L.resizeHandleId);C(h,"Resize handle element has no handle id attribute");const[x,I]=Dn(n,h,l,o);if(x==null||I==null)return()=>{};const E=z=>{if(!z.defaultPrevented)switch(z.key){case"Enter":{z.preventDefault();const R=l.findIndex(k=>k.id===x);if(R>=0){const k=l[R];C(k,`No panel data found for index ${R}`);const $=r[R],{collapsedSize:U=0,collapsible:A,minSize:w=0}=k.constraints;if($!=null&&A){const V=he({delta:B($,U)?w-U:U-$,initialLayout:r,panelConstraints:l.map(J=>J.constraints),pivotIndices:wt(n,h,o),prevLayout:r,trigger:"keyboard"});r!==V&&i(V)}}break}}};return c.addEventListener("keydown",E),()=>{c.removeEventListener("keydown",E)}});return()=>{f.forEach(c=>c())}},[o,e,t,n,r,a,i])}function it(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Rt(e,t){const n=e==="horizontal",{x:r,y:a}=ke(t);return n?r:a}function $n(e,t,n,r,a){const o=n==="horizontal",i=De(t,a);C(i,`No resize handle element found for id "${t}"`);const s=i.getAttribute(L.groupId);C(s,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const m=Rt(n,e),b=Et(s,a);C(b,`No group element found for id "${s}"`);const f=b.getBoundingClientRect(),c=o?f.width:f.height;return(m-l)/c*100}function _n(e,t,n,r,a,o){if(gt(e)){const i=n==="horizontal";let s=0;e.shiftKey?s=100:a!=null?s=a:s=10;let l=0;switch(e.key){case"ArrowDown":l=i?0:s;break;case"ArrowLeft":l=i?-s:0;break;case"ArrowRight":l=i?s:0;break;case"ArrowUp":l=i?0:-s;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:$n(e,t,n,r,o)}function Hn({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,a=100;for(let o=0;o<e.length;o++){const i=n[o];C(i,`Panel constraints not found for index ${o}`);const{defaultSize:s}=i;s!=null&&(r++,t[o]=s,a-=s)}for(let o=0;o<e.length;o++){const i=n[o];C(i,`Panel constraints not found for index ${o}`);const{defaultSize:s}=i;if(s!=null)continue;const l=e.length-r,m=a/l;r++,t[o]=m,a-=m}return t}function ae(e,t,n){t.forEach((r,a)=>{const o=e[a];C(o,`Panel data not found for index ${a}`);const{callbacks:i,constraints:s,id:l}=o,{collapsedSize:m=0,collapsible:b}=s,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:c,onExpand:h,onResize:x}=i;x&&x(r,f),b&&(c||h)&&(h&&(f==null||Y(f,m))&&!Y(r,m)&&h(),c&&(f==null||!Y(f,m))&&Y(r,m)&&c())}})}function Pe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Tn({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:o=3}){const i=n[a];let s;return i==null?s=e!=null?e.toFixed(o):"1":r.length===1?s="1":s=i.toFixed(o),{flexBasis:0,flexGrow:s,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function Fn(e,t=10){let n=null;return(...a)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...a)},t)}}function st(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function It(e){return`react-resizable-panels:${e}`}function Nt(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:a,order:o}=t;return a?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function At(e,t){try{const n=It(e),r=t.getItem(n);if(r){const a=JSON.parse(r);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function Gn(e,t,n){var r,a;const o=(r=At(e,n))!==null&&r!==void 0?r:{},i=Nt(t);return(a=o[i])!==null&&a!==void 0?a:null}function On(e,t,n,r,a){var o;const i=It(e),s=Nt(t),l=(o=At(e,a))!==null&&o!==void 0?o:{};l[s]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(i,JSON.stringify(l))}catch(m){console.error(m)}}function lt({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,i)=>o+i,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!B(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const i=n[o];C(i!=null,`No layout data found for index ${o}`);const s=100/r*i;n[o]=s}let a=0;for(let o=0;o<t.length;o++){const i=n[o];C(i!=null,`No layout data found for index ${o}`);const s=se({panelConstraints:t,panelIndex:o,size:i});i!=s&&(a+=i-s,n[o]=s)}if(!B(a,0))for(let o=0;o<t.length;o++){const i=n[o];C(i!=null,`No layout data found for index ${o}`);const s=i+a,l=se({panelConstraints:t,panelIndex:o,size:s});if(i!==l&&(a-=l-i,n[o]=l,B(a,0)))break}return n}const Bn=100,xe={getItem:e=>(st(xe),xe.getItem(e)),setItem:(e,t)=>{st(xe),xe.setItem(e,t)}},ct={};function kt({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:o=null,onLayout:i=null,keyboardResizeBy:s=null,storage:l=xe,style:m,tagName:b="div",...f}){const c=qe(o),h=u.useRef(null),[x,I]=u.useState(null),[E,z]=u.useState([]),R=An(),k=u.useRef({}),$=u.useRef(new Map),U=u.useRef(0),A=u.useRef({autoSaveId:e,direction:r,dragState:x,id:c,keyboardResizeBy:s,onLayout:i,storage:l}),w=u.useRef({layout:E,panelDataArray:[],panelDataArrayChanged:!1});u.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),u.useImperativeHandle(a,()=>({getId:()=>A.current.id,getLayout:()=>{const{layout:p}=w.current;return p},setLayout:p=>{const{onLayout:y}=A.current,{layout:P,panelDataArray:v}=w.current,g=lt({layout:p,panelConstraints:v.map(S=>S.constraints)});it(P,g)||(z(g),w.current.layout=g,y&&y(g),ae(v,g,k.current))}}),[]),ne(()=>{A.current.autoSaveId=e,A.current.direction=r,A.current.dragState=x,A.current.id=c,A.current.onLayout=i,A.current.storage=l}),Mn({committedValuesRef:A,eagerValuesRef:w,groupId:c,layout:E,panelDataArray:w.current.panelDataArray,setLayout:z,panelGroupElement:h.current}),u.useEffect(()=>{const{panelDataArray:p}=w.current;if(e){if(E.length===0||E.length!==p.length)return;let y=ct[e];y==null&&(y=Fn(On,Bn),ct[e]=y);const P=[...p],v=new Map($.current);y(e,P,v,E,l)}},[e,E,l]),u.useEffect(()=>{});const V=u.useCallback(p=>{const{onLayout:y}=A.current,{layout:P,panelDataArray:v}=w.current;if(p.constraints.collapsible){const g=v.map(q=>q.constraints),{collapsedSize:S=0,panelSize:N,pivotIndices:M}=te(v,p,P);if(C(N!=null,`Panel size not found for panel "${p.id}"`),!Y(N,S)){$.current.set(p.id,N);const X=ie(v,p)===v.length-1?N-S:S-N,j=he({delta:X,initialLayout:P,panelConstraints:g,pivotIndices:M,prevLayout:P,trigger:"imperative-api"});Pe(P,j)||(z(j),w.current.layout=j,y&&y(j),ae(v,j,k.current))}}},[]),J=u.useCallback((p,y)=>{const{onLayout:P}=A.current,{layout:v,panelDataArray:g}=w.current;if(p.constraints.collapsible){const S=g.map(W=>W.constraints),{collapsedSize:N=0,panelSize:M=0,minSize:q=0,pivotIndices:X}=te(g,p,v),j=y??q;if(Y(M,N)){const W=$.current.get(p.id),me=W!=null&&W>=j?W:j,$e=ie(g,p)===g.length-1?M-me:me-M,G=he({delta:$e,initialLayout:v,panelConstraints:S,pivotIndices:X,prevLayout:v,trigger:"imperative-api"});Pe(v,G)||(z(G),w.current.layout=G,P&&P(G),ae(g,G,k.current))}}},[]),O=u.useCallback(p=>{const{layout:y,panelDataArray:P}=w.current,{panelSize:v}=te(P,p,y);return C(v!=null,`Panel size not found for panel "${p.id}"`),v},[]),T=u.useCallback((p,y)=>{const{panelDataArray:P}=w.current,v=ie(P,p);return Tn({defaultSize:y,dragState:x,layout:E,panelData:P,panelIndex:v})},[x,E]),D=u.useCallback(p=>{const{layout:y,panelDataArray:P}=w.current,{collapsedSize:v=0,collapsible:g,panelSize:S}=te(P,p,y);return C(S!=null,`Panel size not found for panel "${p.id}"`),g===!0&&Y(S,v)},[]),ee=u.useCallback(p=>{const{layout:y,panelDataArray:P}=w.current,{collapsedSize:v=0,collapsible:g,panelSize:S}=te(P,p,y);return C(S!=null,`Panel size not found for panel "${p.id}"`),!g||re(S,v)>0},[]),H=u.useCallback(p=>{const{panelDataArray:y}=w.current;y.push(p),y.sort((P,v)=>{const g=P.order,S=v.order;return g==null&&S==null?0:g==null?-1:S==null?1:g-S}),w.current.panelDataArrayChanged=!0,R()},[R]);ne(()=>{if(w.current.panelDataArrayChanged){w.current.panelDataArrayChanged=!1;const{autoSaveId:p,onLayout:y,storage:P}=A.current,{layout:v,panelDataArray:g}=w.current;let S=null;if(p){const M=Gn(p,g,P);M&&($.current=new Map(Object.entries(M.expandToSizes)),S=M.layout)}S==null&&(S=Hn({panelDataArray:g}));const N=lt({layout:S,panelConstraints:g.map(M=>M.constraints)});it(v,N)||(z(N),w.current.layout=N,y&&y(N),ae(g,N,k.current))}}),ne(()=>{const p=w.current;return()=>{p.layout=[]}},[]);const _=u.useCallback(p=>{let y=!1;const P=h.current;return P&&window.getComputedStyle(P,null).getPropertyValue("direction")==="rtl"&&(y=!0),function(g){g.preventDefault();const S=h.current;if(!S)return()=>null;const{direction:N,dragState:M,id:q,keyboardResizeBy:X,onLayout:j}=A.current,{layout:W,panelDataArray:me}=w.current,{initialLayout:Ce}=M??{},$e=wt(q,p,S);let G=_n(g,p,N,M,X,S);const Qe=N==="horizontal";Qe&&y&&(G=-G);const Tt=me.map(Ft=>Ft.constraints),ge=he({delta:G,initialLayout:Ce??W,panelConstraints:Tt,pivotIndices:$e,prevLayout:W,trigger:gt(g)?"keyboard":"mouse-or-touch"}),et=!Pe(W,ge);(ht(g)||xt(g))&&U.current!=G&&(U.current=G,!et&&G!==0?Qe?Fe(p,G<0?vt:yt):Fe(p,G<0?zt:St):Fe(p,0)),et&&(z(ge),w.current.layout=ge,j&&j(ge),ae(me,ge,k.current))}},[]),F=u.useCallback((p,y)=>{const{onLayout:P}=A.current,{layout:v,panelDataArray:g}=w.current,S=g.map(W=>W.constraints),{panelSize:N,pivotIndices:M}=te(g,p,v);C(N!=null,`Panel size not found for panel "${p.id}"`);const X=ie(g,p)===g.length-1?N-y:y-N,j=he({delta:X,initialLayout:v,panelConstraints:S,pivotIndices:M,prevLayout:v,trigger:"imperative-api"});Pe(v,j)||(z(j),w.current.layout=j,P&&P(j),ae(g,j,k.current))},[]),ue=u.useCallback((p,y)=>{const{layout:P,panelDataArray:v}=w.current,{collapsedSize:g=0,collapsible:S}=y,{collapsedSize:N=0,collapsible:M,maxSize:q=100,minSize:X=0}=p.constraints,{panelSize:j}=te(v,p,P);j!=null&&(S&&M&&Y(j,g)?Y(g,N)||F(p,N):j<X?F(p,X):j>q&&F(p,q))},[F]),de=u.useCallback((p,y)=>{const{direction:P}=A.current,{layout:v}=w.current;if(!h.current)return;const g=De(p,h.current);C(g,`Drag handle element not found for id "${p}"`);const S=Rt(P,y);I({dragHandleId:p,dragHandleRect:g.getBoundingClientRect(),initialCursorPosition:S,initialLayout:v})},[]),fe=u.useCallback(()=>{I(null)},[]),Se=u.useCallback(p=>{const{panelDataArray:y}=w.current,P=ie(y,p);P>=0&&(y.splice(P,1),delete k.current[p.id],w.current.panelDataArrayChanged=!0,R())},[R]),oe=u.useMemo(()=>({collapsePanel:V,direction:r,dragState:x,expandPanel:J,getPanelSize:O,getPanelStyle:T,groupId:c,isPanelCollapsed:D,isPanelExpanded:ee,reevaluatePanelConstraints:ue,registerPanel:H,registerResizeHandle:_,resizePanel:F,startDragging:de,stopDragging:fe,unregisterPanel:Se,panelGroupElement:h.current}),[V,x,r,J,O,T,c,D,ee,ue,H,_,F,de,fe,Se]),pe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return u.createElement(Ae.Provider,{value:oe},u.createElement(b,{...f,children:t,className:n,id:o,ref:h,style:{...pe,...m},[L.group]:"",[L.groupDirection]:r,[L.groupId]:c}))}const jt=u.forwardRef((e,t)=>u.createElement(kt,{...e,forwardedRef:t}));kt.displayName="PanelGroup";jt.displayName="forwardRef(PanelGroup)";function ie(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function te(e,t,n){const r=ie(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],i=n[r];return{...t.constraints,panelSize:i,pivotIndices:o}}function Vn({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){u.useEffect(()=>{if(e||n==null||r==null)return;const a=De(t,r);if(a==null)return;const o=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),n(i);break}case"F6":{i.preventDefault();const s=a.getAttribute(L.groupId);C(s,`No group element found for id "${s}"`);const l=ye(s,r),m=Pt(s,t,r);C(m!==null,`No resize element found for id "${t}"`);const b=i.shiftKey?m>0?m-1:l.length-1:m+1<l.length?m+1:0;l[b].focus();break}}};return a.addEventListener("keydown",o),()=>{a.removeEventListener("keydown",o)}},[r,e,t,n])}function Lt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:o,onClick:i,onDragging:s,onFocus:l,onPointerDown:m,onPointerUp:b,style:f={},tabIndex:c=0,tagName:h="div",...x}){var I,E;const z=u.useRef(null),R=u.useRef({onClick:i,onDragging:s,onPointerDown:m,onPointerUp:b});u.useEffect(()=>{R.current.onClick=i,R.current.onDragging=s,R.current.onPointerDown=m,R.current.onPointerUp=b});const k=u.useContext(Ae);if(k===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:$,groupId:U,registerResizeHandle:A,startDragging:w,stopDragging:V,panelGroupElement:J}=k,O=qe(a),[T,D]=u.useState("inactive"),[ee,H]=u.useState(!1),[_,F]=u.useState(null),ue=u.useRef({state:T});ne(()=>{ue.current.state=T}),u.useEffect(()=>{if(n)F(null);else{const oe=A(O);F(()=>oe)}},[n,O,A]);const de=(I=r?.coarse)!==null&&I!==void 0?I:15,fe=(E=r?.fine)!==null&&E!==void 0?E:5;u.useEffect(()=>{if(n||_==null)return;const oe=z.current;C(oe,"Element ref not attached");let pe=!1;return In(O,oe,$,{coarse:de,fine:fe},(y,P,v)=>{if(!P){D("inactive");return}switch(y){case"down":{D("drag"),pe=!1,C(v,'Expected event to be defined for "down" action'),w(O,v);const{onDragging:g,onPointerDown:S}=R.current;g?.(!0),S?.();break}case"move":{const{state:g}=ue.current;pe=!0,g!=="drag"&&D("hover"),C(v,'Expected event to be defined for "move" action'),_(v);break}case"up":{D("hover"),V();const{onClick:g,onDragging:S,onPointerUp:N}=R.current;S?.(!1),N?.(),pe||g?.();break}}})},[de,$,n,fe,A,O,_,w,V]),Vn({disabled:n,handleId:O,resizeHandler:_,panelGroupElement:J});const Se={touchAction:"none",userSelect:"none"};return u.createElement(h,{...x,children:e,className:t,id:a,onBlur:()=>{H(!1),o?.()},onFocus:()=>{H(!0),l?.()},ref:z,role:"separator",style:{...Se,...f},tabIndex:c,[L.groupDirection]:$,[L.groupId]:U,[L.resizeHandle]:"",[L.resizeHandleActive]:T==="drag"?"pointer":ee?"keyboard":void 0,[L.resizeHandleEnabled]:!n,[L.resizeHandleId]:O,[L.resizeHandleState]:T})}Lt.displayName="PanelResizeHandle";function dr({className:e,...t}){return d.jsx(jt,{autoSaveId:"persistence",storage:localStorage,"data-slot":"resizable-panel-group",className:le("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t})}function fr({...e}){return d.jsx(mt,{"data-slot":"resizable-panel",...e})}function pr({withHandle:e,className:t,...n}){return d.jsx(Lt,{"data-slot":"resizable-handle",className:le("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:translate-x-0 data-[panel-group-direction=vertical]:after:-translate-y-1/2 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&d.jsx("div",{className:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-xs border",children:d.jsx(hn,{className:"size-2.5"})})})}var Me="Collapsible",[Wn,mr]=Bt(Me),[Kn,Je]=Wn(Me),Dt=u.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:a,disabled:o,onOpenChange:i,...s}=e,[l,m]=Ot({prop:r,defaultProp:a??!1,onChange:i,caller:Me});return d.jsx(Kn,{scope:n,disabled:o,contentId:Vt(),open:l,onOpenToggle:u.useCallback(()=>m(b=>!b),[m]),children:d.jsx(We.div,{"data-state":Ze(l),"data-disabled":o?"":void 0,...s,ref:t})})});Dt.displayName=Me;var Mt="CollapsibleTrigger",$t=u.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,a=Je(Mt,n);return d.jsx(We.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Ze(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...r,ref:t,onClick:Wt(e.onClick,a.onOpenToggle)})});$t.displayName=Mt;var Ye="CollapsibleContent",_t=u.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Je(Ye,e.__scopeCollapsible);return d.jsx(Kt,{present:n||a.open,children:({present:o})=>d.jsx(Un,{...r,ref:t,present:o})})});_t.displayName=Ye;var Un=u.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:a,...o}=e,i=Je(Ye,n),[s,l]=u.useState(r),m=u.useRef(null),b=Ut(t,m),f=u.useRef(0),c=f.current,h=u.useRef(0),x=h.current,I=i.open||s,E=u.useRef(I),z=u.useRef(void 0);return u.useEffect(()=>{const R=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(R)},[]),qt(()=>{const R=m.current;if(R){z.current=z.current||{transitionDuration:R.style.transitionDuration,animationName:R.style.animationName},R.style.transitionDuration="0s",R.style.animationName="none";const k=R.getBoundingClientRect();f.current=k.height,h.current=k.width,E.current||(R.style.transitionDuration=z.current.transitionDuration,R.style.animationName=z.current.animationName),l(r)}},[i.open,r]),d.jsx(We.div,{"data-state":Ze(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!I,...o,ref:b,style:{"--radix-collapsible-content-height":c?`${c}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:I&&a})});function Ze(e){return e?"open":"closed"}var qn=Dt;function Xn({...e}){return d.jsx(qn,{"data-slot":"collapsible",...e})}function Jn({...e}){return d.jsx($t,{"data-slot":"collapsible-trigger",...e})}function Yn({...e}){return d.jsx(_t,{"data-slot":"collapsible-content",...e})}function ze({icon:e,label:t,triggerComponent:n=Ke,children:r,defaultOpen:a=!0,isActive:o,className:i,open:s,triggerClassName:l,contentClassName:m,onClick:b,disabled:f=!1}){return d.jsxs(Xn,{defaultOpen:a,open:s,className:le("group/collapsible [&[data-state=open]>a>svg:first-child]:rotate-90 [&[data-state=open]>button>svg:first-child]:rotate-90",i),children:[d.jsx(Jn,{asChild:!0,children:d.jsxs(n,{className:le("hover:bg-hover data-[active=true]:bg-hover!",l),onClick:b,isActive:o,disabled:f,children:[d.jsx(fn,{className:"transition-transform"}),d.jsx(e,{}),typeof t=="string"?d.jsx("span",{className:"truncate",children:t}):t]})}),d.jsx(Yn,{children:d.jsx(Xt,{className:le("mr-0 pr-0 pb-0",m),children:r})})]})}const Oe=()=>d.jsx(Zt,{className:"h-5 w-full"}),Zn=[{schemas:[]},{schemas:[{tables:3}]},{schemas:[]},{schemas:[{tables:1}]},{schemas:[{tables:2}]}],Ht=()=>d.jsx(d.Fragment,{children:Zn.map((e,t)=>d.jsx(ut,{children:d.jsx(ze,{icon:we,label:d.jsx(Oe,{}),triggerComponent:Ke,defaultOpen:e.schemas.length>0,disabled:!0,children:e.schemas.map((n,r)=>d.jsx(Re,{children:d.jsx(ze,{icon:dt,label:d.jsx(Oe,{}),triggerComponent:be,defaultOpen:!0,disabled:!0,children:Array.from({length:n.tables}).map((a,o)=>d.jsx(Re,{children:d.jsxs(be,{disabled:!0,children:[d.jsx(ft,{className:"size-4"}),d.jsx(Oe,{})]})},`table-${t}-${r}-${o}`))})},`schema-${t}-${r}`))})},`db-${t}`))}),Qn=({isFetchingNavigationTrees:e,onRefetchNavigationTrees:t})=>d.jsx(Jt,{className:"px-4 pt-4",children:d.jsxs("div",{className:"justify flex items-center justify-between gap-2",children:[d.jsxs(an,{className:"w-full",children:[d.jsx(sn,{children:d.jsx(un,{})}),d.jsx(ln,{disabled:!0,placeholder:"Search"})]}),d.jsx(cn,{isDisabled:e,onRefresh:t})]})});function gr({database:e,schema:t,tables:n,label:r,onClick:a,isActive:o,renderDropdownMenu:i,defaultOpen:s,open:l}){const[m,b]=u.useState();return d.jsx(ze,{icon:mn,label:r,triggerComponent:be,defaultOpen:s,open:l,children:n.map(f=>{const c={databaseName:e.name,schemaName:t.name,tableName:f.name};return d.jsxs(Re,{children:[d.jsxs(be,{className:"hover:bg-hover data-[active=true]:bg-hover!",isActive:o?.(f),onClick:()=>{a?.(c)},onMouseEnter:()=>b(f),onMouseLeave:()=>b(void 0),children:[d.jsx(ft,{}),d.jsx("span",{className:"truncate",title:f.name,children:f.name})]}),i?.(c,m===f)]},f.name)})})}function hr({database:e,schemas:t,onClick:n,isActive:r,open:a,defaultOpen:o,children:i}){return d.jsx(d.Fragment,{children:t.map(s=>d.jsx(Re,{children:d.jsx(ze,{icon:dt,label:s.name,triggerComponent:be,isActive:r?.(s),onClick:()=>n?.({databaseName:e.name,schemaName:s.name,tableName:""}),defaultOpen:o?.(s),open:a,children:i(s)})},s.name))})}function xr({databases:e,isLoadingDatabases:t,isActive:n,defaultOpen:r,onClick:a,open:o,children:i}){const{data:{items:s}={},isFetching:l}=nn(),[m,b]=u.useState(!1),[f,c]=u.useState(!1);return l||t?d.jsx(Ht,{}):s?.length?e?.length?d.jsx(d.Fragment,{children:e.map(h=>d.jsx(ut,{children:d.jsx(ze,{icon:we,label:h.name,triggerComponent:Ke,isActive:n?.(h),defaultOpen:r?.(h),onClick:()=>a?.({databaseName:h.name,schemaName:"",tableName:""}),open:o,children:i(h)})},h.name))}):d.jsxs(d.Fragment,{children:[d.jsx(tt,{className:"absolute text-center text-wrap",Icon:we,title:"No Databases Available",description:"Create a database to get started.",onCtaClick:()=>c(!0),ctaText:"Create database"}),d.jsx(rn,{opened:f,onSetOpened:c})]}):d.jsxs(d.Fragment,{children:[d.jsx(tt,{className:"absolute text-center text-wrap",Icon:we,title:"No Volumes Available",description:"Create a volume to proceed with the database creation.",onCtaClick:()=>b(!0),ctaText:"Create volume"}),d.jsx(on,{opened:m,onSetOpened:b})]})}function br({children:e,scrollAreaClassName:t}){const{refetch:n,isFetching:r,isLoading:a}=tn();return d.jsxs(d.Fragment,{children:[d.jsx(Qn,{isFetchingNavigationTrees:r,onRefetchNavigationTrees:n}),d.jsxs(Qt,{className:le("py-2",t),children:[d.jsx(Yt,{className:"w-full px-2 select-none",children:a?d.jsx(Ht,{}):e}),d.jsx(en,{orientation:"vertical"})]})]})}export{dr as R,br as T,xr as a,hr as b,gr as c,fr as d,pr as e};
