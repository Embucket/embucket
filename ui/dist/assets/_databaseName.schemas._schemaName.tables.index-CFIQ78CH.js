import{f as b,j as e,n as T,u as m,e as y,g,B as x,h as C}from"./index-DjT3CWpx.js";import{R as S,a as u,b as f}from"./trees-items-Daq-qgQK.js";import{b as j}from"./tables-D_51zCVW.js";import{D as N,a as R,b as $}from"./data-page-trees-C2XBjh5V.js";import{c as P,D as z}from"./data-table-_i2F3GhZ.js";import{F as D,T as k}from"./navigation-trees-CDOB_4I2.js";import"./input-CWTrCadC.js";function w({isLoading:r,tables:o,databaseName:t,schemaName:a}){const l=b(),s=P(),c=[s.accessor("name",{header:"Name"}),s.accessor("type",{header:"Type"}),s.accessor("totalBytes",{header:"Total Bytes"}),s.accessor("totalRows",{header:"Row Count"}),s.accessor("createdAt",{header:"Created"})],i=d=>{l({to:"/databases/$databaseName/schemas/$schemaName/tables/$tableName/columns",params:{databaseName:t,schemaName:a,tableName:d.name}})};return e.jsx(z,{rounded:!0,columns:c,data:o,isLoading:r,onRowClick:i})}function A(){const r=b(),{databaseName:o,schemaName:t}=T({from:"/databases/$databaseName/schemas/$schemaName/tables/"}),{data:{items:a}={},isFetching:l}=j(o,t),s=m(n=>n.addTab),c=m(n=>n.setSelectedTree),i=y(),{mutateAsync:d,isPending:p}=g({mutation:{onSuccess:n=>{s(n),c({databaseName:o,schemaName:t,tableName:""}),r({to:"/sql-editor/$worksheetId",params:{worksheetId:n.id.toString()}}),i.invalidateQueries({queryKey:C()})}}}),h=()=>{d({data:{name:"",content:`CREATE TABLE ${o}.${t}.<table_name> (<col1_name> <col1_type>, <col2_name> <col2_type>)`}})};return e.jsx(e.Fragment,{children:e.jsxs(S,{direction:"horizontal",children:[e.jsx(u,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(N,{})}),e.jsx(f,{withHandle:!0}),e.jsxs(u,{collapsible:!0,defaultSize:20,order:1,children:[e.jsx(R,{title:t,Icon:D,secondaryText:`${a==null?void 0:a.length} tables found`,Action:e.jsx(x,{disabled:p,onClick:h,children:"Add Table"})}),e.jsx($,{isEmpty:!(a!=null&&a.length),Table:e.jsx(w,{isLoading:l,tables:a??[],databaseName:o,schemaName:t}),emptyStateIcon:k,emptyStateTitle:"No Tables Found",emptyStateDescription:"No tables have been created yet. Create a table to get started."})]})]})})}const I=A;export{I as component};
