import{g as u,j as e,o as T,u as d,f as y,h as g,B as C,i as x}from"./index-DjWaHfFL.js";import{R,a as p,b as f}from"./trees-items-DUrPA1mG.js";import{b as E}from"./tables-TXYXdC5G.js";import{D as N,a as S}from"./data-page-header-DrDxf30N.js";import{D as j}from"./data-page-trees-DlUBG_9i.js";import{c as A,D}from"./data-table-CGEkQJDF.js";import{F as P,T as _}from"./create-database-dialog-DUYnPK5O.js";import"./index-DMtN3C__.js";import"./create-volume-dialog-BSURLnN1.js";import"./form-ZUtrbLJC.js";import"./input-8BMw7f6t.js";function w({isLoading:r,tables:n,databaseName:s,schemaName:a}){const l=u(),t=A(),c=[t.accessor("name",{header:"Name"}),t.accessor("type",{header:"Type"}),t.accessor("totalBytes",{header:"Total Bytes"}),t.accessor("totalRows",{header:"Row Count"}),t.accessor("createdAt",{header:"Created"})],i=m=>{l({to:"/databases/$databaseName/schemas/$schemaName/tables/$tableName/columns",params:{databaseName:s,schemaName:a,tableName:m.name}})};return e.jsx(D,{rounded:!0,columns:c,data:n,isLoading:r,onRowClick:i})}const z=`-- Replace <table_name> with the desired one (e.g., 's'), and specify appropriate column names and data types.
-- Example: CREATE TABLE mydb1.myschema1.s (id INT, name VARCHAR(100));
CREATE TABLE mydb1.myschema1.<table_name> (<col1_name> <col1_type>, <col2_name> <col2_type>);
`;function B(){const r=u(),{databaseName:n,schemaName:s}=T({from:"/databases/$databaseName/schemas/$schemaName/tables/"}),{data:{items:a}={},isFetching:l}=E(n,s),t=d(o=>o.addTab),c=d(o=>o.setSelectedTree),i=y(),{mutateAsync:m,isPending:b}=g({mutation:{onSuccess:o=>{t(o),c({databaseName:n,schemaName:s,tableName:""}),r({to:"/sql-editor/$worksheetId",params:{worksheetId:o.id.toString()}}),i.invalidateQueries({queryKey:x()})}}}),h=()=>{m({data:{name:"",content:z}})};return e.jsx(e.Fragment,{children:e.jsxs(R,{direction:"horizontal",children:[e.jsx(p,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(j,{})}),e.jsx(f,{withHandle:!0}),e.jsxs(p,{collapsible:!0,defaultSize:20,order:1,children:[e.jsx(N,{title:s,Icon:P,secondaryText:`${a==null?void 0:a.length} tables found`,Action:e.jsx(C,{disabled:b,onClick:h,children:"Add Table"})}),e.jsx(S,{isEmpty:!(a!=null&&a.length),Table:e.jsx(w,{isLoading:l,tables:a??[],databaseName:n,schemaName:s}),emptyStateIcon:_,emptyStateTitle:"No Tables Found",emptyStateDescription:"No tables have been created yet. Create a table to get started."})]})]})})}const W=B;export{W as component};
