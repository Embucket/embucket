import{e as b,j as e,r as l,B as f,D as g}from"./index-Ct9KqqwV.js";import{u as x}from"./use-debounce-DaRTt4xN.js";import{u as j,C as D}from"./create-database-dialog-DvyNpJxv.js";import{u as S}from"./volumes-DS_aN8Wu.js";import{P as C}from"./page-empty-container-C-kS49aP.js";import{P as N}from"./page-header-9iDmaRsA.js";import{P as v}from"./page-scroll-area-DX8YZP6j.js";import{c as y,D as P}from"./data-table-DgQGtZgu.js";import{f as R}from"./formatTime-DTXdKjzH.js";import{I as w,a as F,b as I}from"./input-C_MJiXMR.js";import{R as E}from"./refresh-button-CqT5Ge7j.js";import{S as T}from"./search-r_qVZtJ3.js";import"./alert-BMd_jCtt.js";import"./dashboard-DqU8RIG6.js";import"./navigation-trees-DSZT8EBt.js";import"./form-D9y2bvZi.js";import"./select-Yobvwtbb.js";import"./scroll-area-DS2laZp3.js";import"./index-Da2Z8ThW.js";function V({isLoading:i,databases:o}){const a=b(),s=y(),r=[s.accessor("name",{header:"Name"}),s.accessor("volume",{header:"Volume"}),s.accessor("created_at",{header:"Created",cell:n=>e.jsx("span",{children:R(n.getValue())})})],t=n=>{a({to:"/databases/$databaseName/schemas",params:{databaseName:n.name}})};return e.jsx(P,{rounded:!0,columns:r,data:o,isLoading:i,onRowClick:t})}function k({search:i,onSetSearch:o,databases:a,isFetchingDatabases:s,onRefetchDatabases:r}){return e.jsxs("div",{className:"flex items-center justify-between gap-4 p-4",children:[e.jsx("p",{className:"text-muted-foreground text-sm text-nowrap",children:a.length?`${a.length} databases found`:""}),e.jsxs("div",{className:"justify flex items-center justify-between gap-2",children:[e.jsxs(w,{className:"w-full",children:[e.jsx(F,{children:e.jsx(T,{})}),e.jsx(I,{value:i,onChange:t=>o(t.target.value),placeholder:"Search"})]}),e.jsx(E,{isDisabled:s,onRefresh:r})]})]})}function A(){const[i,o]=l.useState(!1),[a,s]=l.useState(""),r=x(a,300),{data:{items:t}={},isLoading:n,isFetching:c,refetch:d}=j({search:r}),{data:{items:u}={},isFetching:p}=S({search:r}),m=!t?.length,h=m&&a.length>0;return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Databases",Action:e.jsx(f,{size:"sm",disabled:c||p||!u?.length,onClick:()=>o(!0),children:"Add Database"})}),e.jsx(k,{search:a,onSetSearch:s,onRefetchDatabases:d,databases:t??[],isFetchingDatabases:c}),m&&!n?e.jsx(C,{Icon:g,variant:"toolbar",title:"No Databases Found",description:h?"No databases match your search.":"No databases have been created yet. Create a database to get started."}):e.jsx(v,{children:e.jsx(V,{isLoading:n,databases:t??[]})}),e.jsx(D,{opened:i,onSetOpened:o})]})}const ae=A;export{ae as component};
