import{f as u,j as e,q as T,u as d,e as y,g,m as C,h as x}from"./index-336s_lcr.js";import{R,a as b,b as f}from"./trees-items-CBFdRk8o.js";import{b as E}from"./tables-BNmIbyWW.js";import{D as N,a as S,b as j}from"./data-page-trees-beirYvL6.js";import{c as A,D as P}from"./data-table-C0EwjDyh.js";import{F as _,T as w}from"./navigation-trees-wV1lmI6i.js";import"./input-DbzXtZzk.js";function z({isLoading:r,tables:n,databaseName:s,schemaName:a}){const l=u(),t=A(),c=[t.accessor("name",{header:"Name"}),t.accessor("type",{header:"Type"}),t.accessor("totalBytes",{header:"Total Bytes"}),t.accessor("totalRows",{header:"Row Count"}),t.accessor("createdAt",{header:"Created"})],m=i=>{l({to:"/databases/$databaseName/schemas/$schemaName/tables/$tableName/columns",params:{databaseName:s,schemaName:a,tableName:i.name}})};return e.jsx(P,{rounded:!0,columns:c,data:n,isLoading:r,onRowClick:m})}const D=`-- Replace <table_name> with the desired one (e.g., 's'), and specify appropriate column names and data types.
-- Example: CREATE TABLE mydb1.myschema1.s (id INT, name VARCHAR(100));
CREATE TABLE mydb1.myschema1.<table_name> (<col1_name> <col1_type>, <col2_name> <col2_type>);
`;function $(){const r=u(),{databaseName:n,schemaName:s}=T({from:"/databases/$databaseName/schemas/$schemaName/tables/"}),{data:{items:a}={},isFetching:l}=E(n,s),t=d(o=>o.addTab),c=d(o=>o.setSelectedTree),m=y(),{mutateAsync:i,isPending:p}=g({mutation:{onSuccess:o=>{t(o),c({databaseName:n,schemaName:s,tableName:""}),r({to:"/sql-editor/$worksheetId",params:{worksheetId:o.id.toString()}}),m.invalidateQueries({queryKey:x()})}}}),h=()=>{i({data:{name:"",content:D}})};return e.jsx(e.Fragment,{children:e.jsxs(R,{direction:"horizontal",children:[e.jsx(b,{collapsible:!0,defaultSize:20,minSize:20,order:1,children:e.jsx(N,{})}),e.jsx(f,{withHandle:!0}),e.jsxs(b,{collapsible:!0,defaultSize:20,order:1,children:[e.jsx(S,{title:s,Icon:_,secondaryText:`${a==null?void 0:a.length} tables found`,Action:e.jsx(C,{disabled:p,onClick:h,children:"Add Table"})}),e.jsx(j,{isEmpty:!(a!=null&&a.length),Table:e.jsx(z,{isLoading:l,tables:a??[],databaseName:n,schemaName:s}),emptyStateIcon:w,emptyStateTitle:"No Tables Found",emptyStateDescription:"No tables have been created yet. Create a table to get started."})]})]})})}const L=$;export{L as component};
