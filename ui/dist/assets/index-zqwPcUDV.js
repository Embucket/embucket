import{j as e,c as a,f as b,k as v,l as N,B as w,E as F,m as y}from"./index-B0DnALV2.js";import{u as S,s as C,z as o,F as A,a as c,b as l,c as m,d as x,e as u}from"./form-tze_9Taz.js";import{A as E,a as L}from"./alert-Bv7fyroE.js";import{b as j}from"./input-BkRaAwvK.js";function P({className:s,...r}){return e.jsx("div",{"data-slot":"card",className:a("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function I({className:s,...r}){return e.jsx("div",{"data-slot":"card-header",className:a("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function k({className:s,...r}){return e.jsx("div",{"data-slot":"card-title",className:a("leading-none font-semibold",s),...r})}function T({className:s,...r}){return e.jsx("div",{"data-slot":"card-description",className:a("text-muted-foreground text-sm",s),...r})}function q({className:s,...r}){return e.jsx("div",{"data-slot":"card-content",className:a("px-6",s),...r})}const B=o.object({username:o.string().min(1,{message:"Username is required"}),password:o.string().min(1,{message:"Password is required"})});function D(){var d;const s=b(),{setAuthenticated:r}=v(),n=S({resolver:C(B),defaultValues:{username:"",password:""}}),{mutate:h,isPending:f,error:i}=N({mutation:{onSuccess:t=>{r(t),s({to:"/home",replace:!0})}}}),g=({username:t,password:p})=>{h({data:{username:t,password:p}})};return e.jsx(A,{...n,children:e.jsx("form",{onSubmit:n.handleSubmit(g),children:e.jsxs("div",{className:"flex flex-col gap-4",children:[i&&e.jsx(E,{variant:"destructive",children:e.jsx(L,{children:JSON.stringify((d=i.response)==null?void 0:d.data.message)})}),e.jsx(c,{control:n.control,name:"username",render:({field:t})=>e.jsxs(l,{children:[e.jsx(m,{htmlFor:"username",children:"Username"}),e.jsx(x,{children:e.jsx(j,{className:"h-10",id:"username",type:"text",...t})}),e.jsx(u,{})]})}),e.jsx(c,{control:n.control,name:"password",render:({field:t})=>e.jsxs(l,{children:[e.jsx("div",{className:"flex items-center",children:e.jsx(m,{htmlFor:"password",children:"Password"})}),e.jsx(x,{children:e.jsx(j,{className:"h-10",id:"password",type:"password",...t})}),e.jsx(u,{})]})}),e.jsx(w,{type:"submit",className:"mt-2 w-full",disabled:f,children:"Login"})]})})})}function U(){return e.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center",children:e.jsxs("div",{className:"flex min-w-[400px] flex-col gap-6",children:[e.jsxs("div",{className:"m-auto flex items-center gap-1",children:[e.jsx(F,{}),e.jsx(y,{})]}),e.jsxs(P,{children:[e.jsxs(I,{children:[e.jsx(k,{className:"text-2xl font-semibold",children:"Login"}),e.jsx(T,{className:"text-sm font-light",children:"Enter your username below to login to your account"})]}),e.jsx(q,{children:e.jsx(D,{})})]}),e.jsx("p",{className:"text-muted-foreground text-center text-xs font-light",children:"2025 Embucket. All rights reserved. Privacy and Terms."})]})})}const M=U;export{M as component};
