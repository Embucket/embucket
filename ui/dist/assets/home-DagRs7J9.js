import{r as u,j as e,P as g,c as v,d as p,u as f,e as w,f as b,h as y,D as j,i as k,k as S}from"./index-CiAPJLr_.js";import{P as T,S as m,a as x,E as C}from"./scroll-area-CFOj-ohO.js";import{u as z}from"./volumes-DyQiZGDw.js";import{P as D}from"./page-header-D_soHqrS.js";import{C as H}from"./create-database-dialog-uv2KO45n.js";import{F as A}from"./navigation-trees-f6aZxigF.js";import{T as I}from"./table-D9Fo1bf7.js";import{D as P}from"./database-zap-ws2SFnwb.js";import{c as O,D as E}from"./data-table-YYpE77_C.js";var W="Separator",h="horizontal",q=["horizontal","vertical"],N=u.forwardRef((t,a)=>{const{decorative:r,orientation:i=h,...l}=t,o=L(i)?i:h,s=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(g.div,{"data-orientation":o,...s,...l,ref:a})});N.displayName=W;function L(t){return q.includes(t)}var M=N;function c({className:t,orientation:a="horizontal",decorative:r=!0,...i}){return e.jsx(M,{"data-slot":"separator-root",decorative:r,orientation:a,className:v("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}/**
 * @license lucide-react v0.505.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Q=p("file-text",F);/**
 * @license lucide-react v0.505.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],U=p("upload",R);function V(){const[t,a]=u.useState(!1),r=f(n=>n.addTab),i=w(),l=b(),{mutateAsync:o,isPending:d}=y({mutation:{onSuccess:n=>{r(n),l({to:"/sql-editor/$worksheetId",params:{worksheetId:n.id.toString()}}),i.invalidateQueries({queryKey:k()})}}}),s=()=>{o({data:{name:"",content:""}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4 w-full px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("button",{onClick:s,disabled:d,className:"hover:bg-sidebar-secondary-accent bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(T,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Create SQL Worksheet"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"hover:bg-sidebar-secondary-accent bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(j,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Create Database"})]}),e.jsxs("button",{disabled:!0,className:"hover:bg-sidebar-secondary-accent bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors disabled:cursor-auto disabled:bg-transparent disabled:hover:bg-transparent",children:[e.jsx(U,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload Local Files"})]})]})}),e.jsx(H,{opened:t,onSetOpened:a})]})}function _({dashboardData:t}){return e.jsx("div",{className:"w-full bg-transparent",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-1 rounded-l-md border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Databases"}),e.jsx(j,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalDatabases})})]}),e.jsx(c,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Schemas"}),e.jsx(A,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalSchemas})})]}),e.jsx(c,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Tables"}),e.jsx(I,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalTables})})]}),e.jsx(c,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 rounded-r-md border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Queries"}),e.jsx(P,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalQueries})})]})]})})}function $({isLoading:t,worksheets:a}){const r=b(),i=f(s=>s.addTab),l=s=>{i(s),r({to:"/sql-editor/$worksheetId",params:{worksheetId:s.id.toString()}})},o=O(),d=[o.accessor("id",{header:"Id"}),o.accessor("content",{header:"Content"}),o.accessor("updatedAt",{header:"Updated At",cell:s=>{const n=new Date(s.getValue()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsx("span",{children:n})}}),o.accessor("createdAt",{header:"Created At",cell:s=>{const n=new Date(s.getValue()).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return e.jsx("span",{children:n})}})];return e.jsx(E,{rounded:!0,columns:d,onRowClick:l,data:a,isLoading:t})}function G(){const{data:{items:t}={},isLoading:a}=S(),{data:r}=z();return r?e.jsxs(e.Fragment,{children:[e.jsx(D,{title:"Home"}),e.jsxs(m,{className:"h-[calc(100vh-65px-32px-2px)]",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-2 text-3xl font-semibold",children:"Welcome!"}),e.jsx("p",{className:"text-muted-foreground font-light",children:"Nice seeing you here ðŸ˜Ž"})]}),e.jsx(V,{}),e.jsxs("div",{className:"flex size-full flex-col p-4",children:[e.jsx("p",{className:"mb-4 font-semibold",children:"Overview"}),e.jsx(_,{dashboardData:r}),e.jsxs("div",{className:"mt-4 flex size-full flex-col",children:[e.jsx("p",{className:"mb-4 font-semibold",children:"Worksheets"}),t!=null&&t.length?e.jsxs(m,{tableViewport:!0,children:[e.jsx($,{worksheets:t,isLoading:a}),e.jsx(x,{orientation:"horizontal"})]}):e.jsx(C,{className:"min-h-[calc(100vh-200px-344px)]",Icon:Q,title:"No SQL Worksheets Created Yet",description:"Create your first worksheet to start querying data"})]})]}),e.jsx(x,{orientation:"vertical"})]})]}):null}const ae=G;export{ae as component};
