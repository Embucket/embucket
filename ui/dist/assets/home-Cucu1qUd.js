import{r as m,j as e,P as k,c as S,b as f,u as j,d as T,e as b,f as y,D as v,g as C,h as I}from"./index-Ct9KqqwV.js";import{P as z,S as x,a as h,E as D}from"./scroll-area-DS2laZp3.js";import{I as H,a as O,b as A}from"./input-C_MJiXMR.js";import{u as P}from"./dashboard-DqU8RIG6.js";import{P as E}from"./page-header-9iDmaRsA.js";import{T as F}from"./table-data-upload-dialog-CI5z27sW.js";import{C as M}from"./create-database-dialog-DvyNpJxv.js";import{F as W}from"./folder-tree-C1iNkWyL.js";import{T as q}from"./table-DGhiBpVf.js";import{D as R}from"./database-zap-d-6Q45ly.js";import{c as Q,D as U}from"./data-table-DgQGtZgu.js";import{f as u}from"./formatTime-DTXdKjzH.js";import{S as L}from"./search-r_qVZtJ3.js";import"./alert-BMd_jCtt.js";import"./navigation-trees-DSZT8EBt.js";import"./tables-CkGhX4Fc.js";import"./select-Yobvwtbb.js";import"./index-Da2Z8ThW.js";import"./volumes-DS_aN8Wu.js";import"./form-D9y2bvZi.js";var V="Separator",p="horizontal",_=["horizontal","vertical"],N=m.forwardRef((t,a)=>{const{decorative:r,orientation:i=p,...n}=t,o=$(i)?i:p,s=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(k.div,{"data-orientation":o,...s,...n,ref:a})});N.displayName=V;function $(t){return _.includes(t)}var G=N;function c({className:t,orientation:a="horizontal",decorative:r=!0,...i}){return e.jsx(G,{"data-slot":"separator-root",decorative:r,orientation:a,className:S("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],K=f("file-text",B);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Y=f("upload",Z);function J(){const[t,a]=m.useState(!1),[r,i]=m.useState(!1),n=j(d=>d.addTab),o=T(),l=b(),{mutate:s,isPending:g}=y({mutation:{onSuccess:d=>{n(d),l({to:"/sql-editor/$worksheetId",params:{worksheetId:d.id.toString()}}),o.invalidateQueries({queryKey:C()})}}}),w=()=>{s({data:{name:"",content:""}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4 w-full px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("button",{onClick:w,disabled:g,className:"hover:bg-hover bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(z,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Create SQL Worksheet"})]}),e.jsxs("button",{onClick:()=>a(!0),className:"hover:bg-hover bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(v,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Create Database"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"hover:bg-hover bg-muted flex cursor-pointer items-center gap-3 rounded-md border p-6 text-white transition-colors",children:[e.jsx(Y,{className:"text-muted-foreground size-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload Local Files"})]})]})}),e.jsx(M,{opened:t,onSetOpened:a}),e.jsx(F,{opened:r,onSetOpened:i})]})}function X({dashboardData:t}){return e.jsx("div",{className:"w-full bg-transparent",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"flex-1 rounded-l-md border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Databases"}),e.jsx(v,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalDatabases})})]}),e.jsx(c,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Schemas"}),e.jsx(W,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalSchemas})})]}),e.jsx(c,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Tables"}),e.jsx(q,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalTables})})]}),e.jsx(c,{orientation:"vertical",className:"hidden h-auto bg-zinc-800 md:block"}),e.jsxs("div",{className:"flex-1 rounded-r-md border p-6 text-white [&:not(:last-child)]:border-r-0",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Total Queries"}),e.jsx(R,{className:"text-muted-foreground h-4 w-4"})]}),e.jsx("div",{children:e.jsx("div",{className:"text-2xl font-bold",children:t.totalQueries})})]})]})})}function ee({isLoading:t,worksheets:a}){const r=b(),i=j(s=>s.addTab),n=s=>{i(s),r({to:"/sql-editor/$worksheetId",params:{worksheetId:s.id.toString()}})},o=Q(),l=[o.accessor("id",{header:"Id"}),o.accessor("content",{header:"Content",meta:{cellClassName:"max-w-[500px] truncate"}}),o.accessor("updatedAt",{header:"Updated At",cell:s=>e.jsx("span",{children:u(s.getValue())})}),o.accessor("createdAt",{header:"Created At",cell:s=>e.jsx("span",{children:u(s.getValue())})})];return e.jsx(U,{rounded:!0,columns:l,onRowClick:n,data:a,isLoading:t})}function te(){const{data:{items:t}={},isLoading:a}=I(),{data:r}=P();return r?e.jsxs(e.Fragment,{children:[e.jsx(E,{title:"Home",Action:e.jsxs(H,{className:"min-w-[300px]",children:[e.jsx(O,{children:e.jsx(L,{})}),e.jsx(A,{disabled:!0,placeholder:"Search"})]})}),e.jsxs(x,{className:"h-[calc(100vh-var(--content-mb)-var(--content-mt))-65px-2px",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"mb-2 text-3xl font-semibold",children:"Welcome!"}),e.jsx("p",{className:"text-muted-foreground font-light",children:"Nice seeing you here ðŸ˜Ž"})]}),e.jsx(J,{}),e.jsxs("div",{className:"flex size-full flex-col p-4",children:[e.jsx("p",{className:"mb-4 font-semibold",children:"Overview"}),e.jsx(X,{dashboardData:r}),e.jsxs("div",{className:"mt-4 flex size-full flex-col",children:[e.jsx("p",{className:"mb-4 font-semibold",children:"Worksheets"}),t?.length?e.jsxs(x,{tableViewport:!0,children:[e.jsx(ee,{worksheets:t,isLoading:a}),e.jsx(h,{orientation:"horizontal"})]}):e.jsx(D,{className:"min-h-[calc(100vh-200px-344px)]",Icon:K,title:"No SQL Worksheets Created Yet",description:"Create your first worksheet to start querying data"})]})]}),e.jsx(h,{orientation:"vertical"})]})]}):null}const we=te;export{we as component};
